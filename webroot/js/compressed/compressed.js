!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.bootbox=t(e.jQuery)}(this,function t(d,c){"use strict";function l(e,t,n){e.stopPropagation(),e.preventDefault(),d.isFunction(n)&&!1===n.call(t,e)||t.modal("hide")}function u(e,n){var i=0;d.each(e,function(e,t){n(e,t,i++)})}function h(e,t,n){return d.extend(!0,{},e,function(e,t){var n=e.length,i={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(i[t[0]]=e[0],i[t[1]]=e[1]):i=e[0],i}(t,n))}function n(e,t,n,i){return f(h({className:"bootbox-"+e,buttons:p.apply(null,t)},i,n),t)}function p(){for(var e={},t=0,n=arguments.length;t<n;t++){var i=arguments[t],o=i.toLowerCase(),a=i.toUpperCase();e[o]={label:(r=a,void 0,s=y[g.locale],s?s[r]:y.en[r])}}var r,s;return e}function f(e,t){var n={};return u(t,function(e,t){n[t]=!0}),u(e.buttons,function(e){if(n[e]===c)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var m={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},g={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},v={alert:function(){var e;if((e=n("alert",["ok"],["message","callback"],arguments)).callback&&!d.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return!d.isFunction(e.callback)||e.callback.call(this)},v.dialog(e)},confirm:function(){var e;if((e=n("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},!d.isFunction(e.callback))throw new Error("confirm requires a callback");return v.dialog(e)},prompt:function(){var t,e,n,i,o,a,r;if(i=d(m.form),e={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},a=(t=f(h(e,arguments,["title","callback"]),["cancel","confirm"])).show===c||t.show,t.message=i,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=o.val();break;case"checkbox":var e=o.find("input:checked");n=[],u(e,function(e,t){n.push(d(t).val())})}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!d.isFunction(t.callback))throw new Error("prompt requires a callback");if(!m.inputs[t.inputType])throw new Error("invalid prompt type");switch(o=d(m.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":o.val(t.value);break;case"select":var s={};if(r=t.inputOptions||[],!d.isArray(r))throw new Error("Please pass an array of input options");if(!r.length)throw new Error("prompt with select requires options");u(r,function(e,t){var n=o;if(t.value===c||t.text===c)throw new Error("given options in wrong format");t.group&&(s[t.group]||(s[t.group]=d("<optgroup/>").attr("label",t.group)),n=s[t.group]),n.append("<option value='"+t.value+"'>"+t.text+"</option>")}),u(s,function(e,t){o.append(t)}),o.val(t.value);break;case"checkbox":var l=d.isArray(t.value)?t.value:[t.value];if(!(r=t.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!r[0].value||!r[0].text)throw new Error("given options in wrong format");o=d("<div/>"),u(r,function(e,n){var i=d(m.inputs[t.inputType]);i.find("input").attr("value",n.value),i.find("label").append(n.text),u(l,function(e,t){t===n.value&&i.find("input").prop("checked",!0)}),o.append(i)})}return t.placeholder&&o.attr("placeholder",t.placeholder),t.pattern&&o.attr("pattern",t.pattern),t.maxlength&&o.attr("maxlength",t.maxlength),i.append(o),i.on("submit",function(e){e.preventDefault(),e.stopPropagation(),n.find(".btn-primary").click()}),(n=v.dialog(t)).off("shown.bs.modal"),n.on("shown.bs.modal",function(){o.focus()}),!0===a&&n.modal("show"),n}};v.dialog=function(e){e=function(e){var i,o;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return(e=d.extend({},g,e)).buttons||(e.buttons={}),i=e.buttons,o=function(e){var t,n=0;for(t in e)n++;return n}(i),u(i,function(e,t,n){if(d.isFunction(t)&&(t=i[e]={callback:t}),"object"!==d.type(t))throw new Error("button with key "+e+" must be an object");t.label||(t.label=e),t.className||(t.className=o<=2&&n===o-1?"btn-primary":"btn-default")}),e}(e);var n=d(m.dialog),t=n.find(".modal-dialog"),i=n.find(".modal-body"),o=e.buttons,a="",r={onEscape:e.onEscape};if(d.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(u(o,function(e,t){a+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",r[e]=t.callback}),i.find(".bootbox-body").html(e.message),!0===e.animate&&n.addClass("fade"),e.className&&n.addClass(e.className),"large"===e.size?t.addClass("modal-lg"):"small"===e.size&&t.addClass("modal-sm"),e.title&&i.before(m.header),e.closeButton){var s=d(m.closeButton);e.title?n.find(".modal-header").prepend(s):s.css("margin-top","-10px").prependTo(i)}return e.title&&n.find(".modal-title").html(e.title),a.length&&(i.after(m.footer),n.find(".modal-footer").html(a)),n.on("hidden.bs.modal",function(e){e.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),"static"!==e.backdrop&&n.on("click.dismiss.bs.modal",function(e){n.children(".modal-backdrop").length&&(e.currentTarget=n.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(e){r.onEscape&&l(e,n,r.onEscape)}),n.on("click",".modal-footer button",function(e){var t=d(this).data("bb-handler");l(e,n,r[t])}),n.on("click",".bootbox-close-button",function(e){l(e,n,r.onEscape)}),n.on("keyup",function(e){27===e.which&&n.trigger("escape.close.bb")}),d(e.container).append(n),n.modal({backdrop:!!e.backdrop&&"static",keyboard:!1,show:!1}),e.show&&n.modal("show"),n},v.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],d.extend(g,e)},v.hideAll=function(){return d(".bootbox").modal("hide"),v};var y={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return v.addLocale=function(e,n){return d.each(["OK","CANCEL","CONFIRM"],function(e,t){if(!n[t])throw new Error("Please supply a translation for '"+t+"'")}),y[e]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},v},v.removeLocale=function(e){return delete y[e],v},v.setLocale=function(e){return v.setDefaults("locale",e)},v.init=function(e){return t(e||d)},v}),function(e){if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(V,G){if(!G)throw Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(a,f){var n,m,i,t,o,r,s,d={},c=G().startOf("d"),u=c.clone(),h=!0,l=!1,p=!1,g=0,v=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],y=["days","months","years","decades"],b=["top","bottom","auto"],w=["left","right","auto"],C=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},D={},x=function(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==i.indexOf("Y");case"M":return-1!==i.indexOf("M");case"d":return-1!==i.toLowerCase().indexOf("d");case"h":case"H":return-1!==i.toLowerCase().indexOf("h");case"m":return-1!==i.indexOf("m");case"s":return-1!==i.indexOf("s");default:return!1}},_=function(){return x("h")||x("m")||x("s")},T=function(){return x("y")||x("M")||x("d")},M=function(){var e,t,n,i,o,a,r,s,l,d=V("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=V("<div>").addClass("datepicker").append((s=V("<thead>").append(V("<tr>").append(V("<th>").addClass("prev").attr("data-action","previous").append(V("<span>").addClass(f.icons.previous))).append(V("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",f.calendarWeeks?"6":"5")).append(V("<th>").addClass("next").attr("data-action","next").append(V("<span>").addClass(f.icons.next)))),l=V("<tbody>").append(V("<tr>").append(V("<td>").attr("colspan",f.calendarWeeks?"8":"7"))),[V("<div>").addClass("datepicker-days").append(V("<table>").addClass("table-condensed").append(s).append(V("<tbody>"))),V("<div>").addClass("datepicker-months").append(V("<table>").addClass("table-condensed").append(s.clone()).append(l.clone())),V("<div>").addClass("datepicker-years").append(V("<table>").addClass("table-condensed").append(s.clone()).append(l.clone())),V("<div>").addClass("datepicker-decades").append(V("<table>").addClass("table-condensed").append(s.clone()).append(l.clone()))])),u=V("<div>").addClass("timepicker").append((t=V("<div>").addClass("timepicker-hours").append(V("<table>").addClass("table-condensed")),n=V("<div>").addClass("timepicker-minutes").append(V("<table>").addClass("table-condensed")),i=V("<div>").addClass("timepicker-seconds").append(V("<table>").addClass("table-condensed")),o=V("<tr>"),a=V("<tr>"),r=V("<tr>"),x("h")&&(o.append(V("<td>").append(V("<a>").attr({href:"#",tabindex:"-1",title:"Increment Hour"}).addClass("btn").attr("data-action","incrementHours").append(V("<span>").addClass(f.icons.up)))),a.append(V("<td>").append(V("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:"Pick Hour"}).attr("data-action","showHours"))),r.append(V("<td>").append(V("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Hour"}).addClass("btn").attr("data-action","decrementHours").append(V("<span>").addClass(f.icons.down))))),x("m")&&(x("h")&&(o.append(V("<td>").addClass("separator")),a.append(V("<td>").addClass("separator").html(":")),r.append(V("<td>").addClass("separator"))),o.append(V("<td>").append(V("<a>").attr({href:"#",tabindex:"-1",title:"Increment Minute"}).addClass("btn").attr("data-action","incrementMinutes").append(V("<span>").addClass(f.icons.up)))),a.append(V("<td>").append(V("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:"Pick Minute"}).attr("data-action","showMinutes"))),r.append(V("<td>").append(V("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Minute"}).addClass("btn").attr("data-action","decrementMinutes").append(V("<span>").addClass(f.icons.down))))),x("s")&&(x("m")&&(o.append(V("<td>").addClass("separator")),a.append(V("<td>").addClass("separator").html(":")),r.append(V("<td>").addClass("separator"))),o.append(V("<td>").append(V("<a>").attr({href:"#",tabindex:"-1",title:"Increment Second"}).addClass("btn").attr("data-action","incrementSeconds").append(V("<span>").addClass(f.icons.up)))),a.append(V("<td>").append(V("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:"Pick Second"}).attr("data-action","showSeconds"))),r.append(V("<td>").append(V("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Second"}).addClass("btn").attr("data-action","decrementSeconds").append(V("<span>").addClass(f.icons.down))))),m||(o.append(V("<td>").addClass("separator")),a.append(V("<td>").append(V("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:"Toggle Period"}))),r.append(V("<td>").addClass("separator"))),o=[V("<div>").addClass("timepicker-picker").append(V("<table>").addClass("table-condensed").append([o,a,r]))],x("h")&&o.push(t),x("m")&&o.push(n),x("s")&&o.push(i),o)),h=V("<ul>").addClass("list-unstyled"),p=V("<li>").addClass("picker-switch"+(f.collapse?" accordion-toggle":"")).append((e=[],f.showTodayButton&&e.push(V("<td>").append(V("<a>").attr({"data-action":"today",title:"Go to today"}).append(V("<span>").addClass(f.icons.today).text("  Today")))),f.showDBDayButton&&e.push(V("<td>").append(V("<a>").attr({"data-action":"dbday",title:"Go to Event"}).append(V("<span>").addClass(f.icons.dbday).html(" Event")))),!f.sideBySide&&T()&&_()&&e.push(V("<td>").append(V("<a>").attr({"data-action":"togglePicker",title:"Select Time"}).append(V("<span>").addClass(f.icons.time)))),f.showClear&&e.push(V("<td>").append(V("<a>").attr({"data-action":"clear",title:"Clear selection"}).append(V("<span>").addClass(f.icons.clear)))),f.showClose&&e.push(V("<td>").append(V("<a>").attr({"data-action":"close",title:"Close the picker"}).append(V("<span>").addClass(f.icons.close)))),V("<table>").addClass("table-condensed").append(V("<tbody>").append(V("<tr>").append(e)))));return f.inline&&d.removeClass("dropdown-menu"),m&&d.addClass("usetwentyfour"),x("s")&&!m&&d.addClass("wider"),f.sideBySide&&T()&&_()?(d.addClass("timepicker-sbs"),d.append(V("<div>").addClass("row").append(c.addClass("col-sm-6")).append(u.addClass("col-sm-6"))),d.append(p),d):("top"===f.toolbarPlacement&&h.append(p),T()&&h.append(V("<li>").addClass(f.collapse&&_()?"collapse in":"").append(c)),"default"===f.toolbarPlacement&&h.append(p),_()&&h.append(V("<li>").addClass(f.collapse&&T()?"collapse":"").append(u)),"bottom"===f.toolbarPlacement&&h.append(p),d.append(h))},S=function(){var e,t=(l||a).position(),n=(l||a).offset(),i=f.widgetPositioning.vertical,o=f.widgetPositioning.horizontal;if(f.widgetParent)e=f.widgetParent.append(p);else if(a.is("input"))e=a.after(p).parent();else{if(f.inline)return void(e=a.append(p));(e=a).children().first().after(p)}if("auto"===i&&(i=n.top+1.5*p.height()>=V(window).height()+V(window).scrollTop()&&p.height()+a.outerHeight()<n.top?"top":"bottom"),"auto"===o&&(o=e.width()<n.left+p.outerWidth()/2&&n.left+p.outerWidth()>V(window).width()?"right":"left"),"top"===i?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===o?p.addClass("pull-right"):p.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===V(this).css("position")}).first()),0===e.length)throw Error("datetimepicker component should be placed within a relative positioned container");p.css({top:"top"===i?"auto":t.top+a.outerHeight(),bottom:"top"===i?t.top+a.outerHeight():"auto",left:"left"===o?e===a?0:t.left:"auto",right:"left"===o?"auto":e.outerWidth()-a.outerWidth()-(e===a?0:t.left)})},A=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},P=function(e){"y"===e&&(e="YYYY"),A({type:"dp.update",change:e,viewDate:u.clone()})},E=function(e){p&&(e&&(o=Math.max(g,Math.min(3,o+e))),p.find(".datepicker > div").hide().filter(".datepicker-"+v[o].clsName).show())},O=function(e,t){if(!e.isValid()||f.disabledDates&&"d"===t&&!0===f.disabledDates[e.format("YYYY-MM-DD")]||f.enabledDates&&"d"===t&&!0!==f.enabledDates[e.format("YYYY-MM-DD")]||f.minDate&&e.isBefore(f.minDate,t)||f.maxDate&&e.isAfter(f.maxDate,t)||f.daysOfWeekDisabled&&"d"===t&&-1!==f.daysOfWeekDisabled.indexOf(e.day())||f.disabledHours&&("h"===t||"m"===t||"s"===t)&&!0===f.disabledHours[e.format("H")]||f.enabledHours&&("h"===t||"m"===t||"s"===t)&&!0!==f.enabledHours[e.format("H")])return!1;if(f.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var n=!1;if(V.each(f.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return!(n=!0)}),n)return!1}return!0},I=function(){var e,t,n,i,o,a,r=p.find(".datepicker-days"),s=r.find("th"),l=[];if(T()){for(s.eq(0).find("span").attr("title","Previous Month"),s.eq(1).attr("title","Select Month"),s.eq(2).find("span").attr("title","Next Month"),r.find(".disabled").removeClass("disabled"),s.eq(1).text(u.format(f.dayViewHeaderFormat)),O(u.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),O(u.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),s=u.clone().startOf("M").startOf("w").startOf("d"),n=0;n<42;n++)0===s.weekday()&&(e=V("<tr>"),f.calendarWeeks&&e.append('<td class="cw">'+s.week()+"</td>"),l.push(e)),t="",s.isBefore(u,"M")&&(t+=" old"),s.isAfter(u,"M")&&(t+=" new"),s.isSame(c,"d")&&!h&&(t+=" active"),O(s,"d")||(t+=" disabled"),s.isSame(G(),"d")&&(t+=" today"),0!==s.day()&&6!==s.day()||(t+=" weekend"),e.append('<td data-action="selectDay" data-day="'+s.format("L")+'" class="day'+t+'">'+s.date()+"</td>"),s.add(1,"d");for(r.find("tbody").empty().append(l),i=p.find(".datepicker-months"),o=i.find("th"),a=i.find("tbody").find("span"),o.eq(0).find("span").attr("title","Previous Year"),o.eq(1).attr("title","Select Year"),o.eq(2).find("span").attr("title","Next Year"),i.find(".disabled").removeClass("disabled"),O(u.clone().subtract(1,"y"),"y")||o.eq(0).addClass("disabled"),o.eq(1).text(u.year()),O(u.clone().add(1,"y"),"y")||o.eq(2).addClass("disabled"),a.removeClass("active"),c.isSame(u,"y")&&!h&&a.eq(c.month()).addClass("active"),a.each(function(e){O(u.clone().month(e),"M")||V(this).addClass("disabled")}),l=(r=p.find(".datepicker-years")).find("th"),e=u.clone().subtract(5,"y"),s=u.clone().add(6,"y"),t="",l.eq(0).find("span").attr("title","Previous Decade"),l.eq(1).attr("title","Select Decade"),l.eq(2).find("span").attr("title","Next Decade"),r.find(".disabled").removeClass("disabled"),f.minDate&&f.minDate.isAfter(e,"y")&&l.eq(0).addClass("disabled"),l.eq(1).text(e.year()+"-"+s.year()),f.maxDate&&f.maxDate.isBefore(s,"y")&&l.eq(2).addClass("disabled");!e.isAfter(s,"y");)t+='<span data-action="selectYear" class="year'+(e.isSame(c,"y")&&!h?" active":"")+(O(e,"y")?"":" disabled")+'">'+e.year()+"</span>",e.add(1,"y");for(r.find("td").html(t),l=(r=p.find(".datepicker-decades")).find("th"),s=(e=u.isBefore(G({y:1999}))?G({y:1899}):G({y:1999})).clone().add(100,"y"),t="",l.eq(0).find("span").attr("title","Previous Century"),l.eq(2).find("span").attr("title","Next Century"),r.find(".disabled").removeClass("disabled"),(e.isSame(G({y:1900}))||f.minDate&&f.minDate.isAfter(e,"y"))&&l.eq(0).addClass("disabled"),l.eq(1).text(e.year()+"-"+s.year()),(e.isSame(G({y:2e3}))||f.maxDate&&f.maxDate.isBefore(s,"y"))&&l.eq(2).addClass("disabled");!e.isAfter(s,"y");)t+='<span data-action="selectDecade" class="decade'+(e.isSame(c,"y")?" active":"")+(O(e,"y")?"":" disabled")+'" data-selection="'+(e.year()+6)+'">'+(e.year()+1)+" - "+(e.year()+12)+"</span>",e.add(12,"y");t+="<span></span><span></span><span></span>",r.find("td").html(t)}},N=function(){if(p){I();var e,t,n=p.find(".timepicker span[data-time-component]");m||(e=p.find(".timepicker [data-action=togglePeriod]"),t=c.clone().add(12<=c.hours()?-12:12,"h"),e.text(c.format("A")),O(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(c.format(m?"HH":"hh")),n.filter("[data-time-component=minutes]").text(c.format("mm")),n.filter("[data-time-component=seconds]").text(c.format("ss")),e=p.find(".timepicker-hours table"),t=u.clone().startOf("d");n=[];var i=V("<tr>");for(11<u.hour()&&!m&&t.hour(12);t.isSame(u,"d")&&(m||u.hour()<12&&t.hour()<12||11<u.hour());)0==t.hour()%4&&(i=V("<tr>"),n.push(i)),i.append('<td data-action="selectHour" class="hour'+(O(t,"h")?"":" disabled")+'">'+t.format(m?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(n),e=p.find(".timepicker-minutes table"),t=u.clone().startOf("h");n=[],i=V("<tr>");for(var o=1===f.stepping?5:f.stepping;u.isSame(t,"h");)0==t.minute()%(4*o)&&(i=V("<tr>"),n.push(i)),i.append('<td data-action="selectMinute" class="minute'+(O(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(o,"m");for(e.empty().append(n),e=p.find(".timepicker-seconds table"),t=u.clone().startOf("m"),n=[],i=V("<tr>");u.isSame(t,"m");)0==t.second()%20&&(i=V("<tr>"),n.push(i)),i.append('<td data-action="selectSecond" class="second'+(O(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(n)}},L=function(e){var t=h?null:c;e?(e=e.clone().locale(f.locale),1!==f.stepping&&e.minutes(Math.round(e.minutes()/f.stepping)*f.stepping%60).seconds(0),O(e)?(u=(c=e).clone(),n.val(c.format(i)),a.data("date",c.format(i)),h=!1,N(),A({type:"dp.change",date:c.clone(),oldDate:t})):(f.keepInvalid||n.val(h?"":c.format(i)),A({type:"dp.error",date:e}))):(h=!0,n.val(""),a.data("date",""),A({type:"dp.change",date:!1,oldDate:t}),N())},$=function(){var t=!1;return p?(p.find(".collapse").each(function(){var e=V(this).data("collapse");return!e||!e.transitioning||!(t=!0)}),t||(l&&l.hasClass("btn")&&l.toggleClass("active"),p.hide(),V(window).off("resize",S),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,A({type:"dp.hide",date:c.clone()})),d):d},e=function(){L(null)},Y={next:function(){var e=v[o].navFnc;u.add(v[o].navStep,e),I(),P(e)},previous:function(){var e=v[o].navFnc;u.subtract(v[o].navStep,e),I(),P(e)},pickerSwitch:function(){E(1)},selectMonth:function(e){e=V(e.target).closest("tbody").find("span").index(V(e.target)),u.month(e),o===g?(L(c.clone().year(u.year()).month(u.month())),f.inline||$()):(E(-1),I()),P("M")},selectYear:function(e){e=parseInt(V(e.target).text(),10)||0,u.year(e),o===g?(L(c.clone().year(u.year())),f.inline||$()):(E(-1),I()),P("YYYY")},selectDecade:function(e){e=parseInt(V(e.target).data("selection"),10)||0,u.year(e),o===g?(L(c.clone().year(u.year())),f.inline||$()):(E(-1),I()),P("YYYY")},selectDay:function(e){var t=u.clone();V(e.target).is(".old")&&t.subtract(1,"M"),V(e.target).is(".new")&&t.add(1,"M"),L(t.date(parseInt(V(e.target).text(),10))),_()||f.keepOpen||f.inline||$()},incrementHours:function(){var e=c.clone().add(1,"h");O(e,"h")&&L(e)},incrementMinutes:function(){var e=c.clone().add(f.stepping,"m");O(e,"m")&&L(e)},incrementSeconds:function(){var e=c.clone().add(1,"s");O(e,"s")&&L(e)},decrementHours:function(){var e=c.clone().subtract(1,"h");O(e,"h")&&L(e)},decrementMinutes:function(){var e=c.clone().subtract(f.stepping,"m");O(e,"m")&&L(e)},decrementSeconds:function(){var e=c.clone().subtract(1,"s");O(e,"s")&&L(e)},togglePeriod:function(){L(c.clone().add(12<=c.hours()?-12:12,"h"))},togglePicker:function(e){var t,n=(i=(e=V(e.target)).closest("ul")).find(".in"),i=i.find(".collapse:not(.in)");n&&n.length&&((t=n.data("collapse"))&&t.transitioning||(n.collapse?(n.collapse("hide"),i.collapse("show")):(n.removeClass("in"),i.addClass("in")),e.is("span")?e.toggleClass(f.icons.time+" "+f.icons.date):e.find("span").toggleClass(f.icons.time+" "+f.icons.date)))},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){e=parseInt(V(e.target).text(),10),m||(12<=c.hours()?12!==e&&(e+=12):12===e&&(e=0)),L(c.clone().hours(e)),Y.showPicker.call(d)},selectMinute:function(e){L(c.clone().minutes(parseInt(V(e.target).text(),10))),Y.showPicker.call(d)},selectSecond:function(e){L(c.clone().seconds(parseInt(V(e.target).text(),10))),Y.showPicker.call(d)},clear:e,today:function(){O(G(),"d")&&L(G())},dbday:function(){O(G(DB_EVENT_DATE),"d")&&L(G(DB_EVENT_DATE))},close:$},F=function(e){return V(e.currentTarget).is(".disabled")||Y[V(e.currentTarget).data("action")].apply(d,arguments),!1},H=function(){var e;return n.prop("disabled")||!f.ignoreReadonly&&n.prop("readonly")||p||(void 0!==n.val()&&0!==n.val().trim().length?L(B(n.val().trim())):f.useCurrent&&h&&(n.is("input")&&0===n.val().trim().length||f.inline)&&(e=G(),"string"==typeof f.useCurrent&&(e={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[f.useCurrent](e)),L(e)),p=M(),function(){var e=V("<tr>"),t=u.clone().startOf("w").startOf("d");for(!0===f.calendarWeeks&&e.append(V("<th>").addClass("cw").text("#"));t.isBefore(u.clone().endOf("w"));)e.append(V("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");p.find(".datepicker-days thead").append(e)}(),function(){for(var e=[],t=u.clone().startOf("y").startOf("d");t.isSame(u,"y");)e.push(V("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");p.find(".datepicker-months td").empty().append(e)}(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),N(),E(),V(window).on("resize",S),p.on("click","[data-action]",F),p.on("mousedown",!1),l&&l.hasClass("btn")&&l.toggleClass("active"),p.show(),S(),f.focusOnShow&&!n.is(":focus")&&n.focus(),A({type:"dp.show"})),d},R=function(){return p?$():H()},B=function(e){return(e=void 0===f.parseInputDate?G.isMoment(e)||e instanceof Date?G(e):G(e,t,f.useStrict):f.parseInputDate(e)).locale(f.locale),e},j=function(e){var t,n,i,o,a=null,r=[],s={},l=e.which;for(t in D[l]="p",D)D.hasOwnProperty(t)&&"p"===D[t]&&(r.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in f.keyBinds)if(f.keyBinds.hasOwnProperty(t)&&"function"==typeof f.keyBinds[t]&&((i=t.split(" ")).length===r.length&&k[l]===i[i.length-1])){for(o=!0,n=i.length-2;0<=n;n--)if(!(k[i[n]]in s)){o=!1;break}if(o){a=f.keyBinds[t];break}}a&&(a.call(d,p),e.stopPropagation(),e.preventDefault())},U=function(e){D[e.which]="r",e.stopPropagation(),e.preventDefault()},z=function(e){var t=(t=V(e.target).val().trim())?B(t):null;return L(t),e.stopImmediatePropagation(),!1},q=function(e){var t={};return V.each(e,function(){var e=B(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t},W=function(e){var t={};return V.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t},K=function(){var e=f.format||"L LT";i=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(c.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return c.localeData().longDateFormat(e)||e})}),(t=f.extraFormats?f.extraFormats.slice():[]).indexOf(e)<0&&t.indexOf(i)<0&&t.push(i),m=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,x("y")&&(g=2),x("M")&&(g=1),x("d")&&(g=0),o=Math.max(g,o),h||L(c)};if(d.destroy=function(){$(),n.off({change:z,blur:$,keydown:j,keyup:U,focus:f.allowInputToggle?$:""}),a.is("input")?n.off({focus:H}):l&&(l.off("click",R),l.off("mousedown",!1)),a.removeData("DateTimePicker"),a.removeData("date")},d.toggle=R,d.show=H,d.hide=$,d.disable=function(){return $(),l&&l.hasClass("btn")&&l.addClass("disabled"),n.prop("disabled",!0),d},d.enable=function(){return l&&l.hasClass("btn")&&l.removeClass("disabled"),n.prop("disabled",!1),d},d.ignoreReadonly=function(e){if(0===arguments.length)return f.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return f.ignoreReadonly=e,d},d.options=function(e){if(0===arguments.length)return V.extend(!0,{},f);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return V.extend(!0,f,e),V.each(f,function(e,t){if(void 0===d[e])throw new TypeError("option "+e+" is not recognized!");d[e](t)}),d},d.date=function(e){if(0===arguments.length)return h?null:c.clone();if(!(null===e||"string"==typeof e||G.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return L(null===e?null:B(e)),d},d.format=function(e){if(0===arguments.length)return f.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return f.format=e,i&&K(),d},d.dayViewHeaderFormat=function(e){if(0===arguments.length)return f.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return f.dayViewHeaderFormat=e,d},d.extraFormats=function(e){if(0===arguments.length)return f.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return f.extraFormats=e,t&&K(),d},d.disabledDates=function(e){if(0===arguments.length)return f.disabledDates?V.extend({},f.disabledDates):f.disabledDates;if(!e)return f.disabledDates=!1,N(),d;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return f.disabledDates=q(e),f.enabledDates=!1,N(),d},d.enabledDates=function(e){if(0===arguments.length)return f.enabledDates?V.extend({},f.enabledDates):f.enabledDates;if(!e)return f.enabledDates=!1,N(),d;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return f.enabledDates=q(e),f.disabledDates=!1,N(),d},d.daysOfWeekDisabled=function(e){if(0===arguments.length)return f.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return f.daysOfWeekDisabled=!1,N(),d;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(f.daysOfWeekDisabled=e.reduce(function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e},[]).sort(),f.useCurrent&&!f.keepInvalid){for(var t=0;!O(c,"d");){if(c.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}L(c)}return N(),d},d.maxDate=function(e){if(0===arguments.length)return f.maxDate?f.maxDate.clone():f.maxDate;if("boolean"==typeof e&&!1===e)return f.maxDate=!1,N(),d;"string"!=typeof e||"now"!==e&&"moment"!==e||(e=G());var t=B(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(f.minDate&&t.isBefore(f.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(i));return f.maxDate=t,f.useCurrent&&!f.keepInvalid&&c.isAfter(e)&&L(f.maxDate),u.isAfter(t)&&(u=t.clone()),N(),d},d.minDate=function(e){if(0===arguments.length)return f.minDate?f.minDate.clone():f.minDate;if("boolean"==typeof e&&!1===e)return f.minDate=!1,N(),d;"string"!=typeof e||"now"!==e&&"moment"!==e||(e=G());var t=B(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(f.maxDate&&t.isAfter(f.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(i));return f.minDate=t,f.useCurrent&&!f.keepInvalid&&c.isBefore(e)&&L(f.minDate),u.isBefore(t)&&(u=t.clone()),N(),d},d.defaultDate=function(e){if(0===arguments.length)return f.defaultDate?f.defaultDate.clone():f.defaultDate;if(!e)return f.defaultDate=!1,d;"string"!=typeof e||"now"!==e&&"moment"!==e||(e=G());var t=B(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!O(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return f.defaultDate=t,(f.defaultDate&&f.inline||""===n.val().trim()&&void 0===n.attr("placeholder"))&&L(f.defaultDate),d},d.locale=function(e){if(0===arguments.length)return f.locale;if(!G.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return f.locale=e,c.locale(f.locale),u.locale(f.locale),i&&K(),p&&($(),H()),d},d.stepping=function(e){return 0===arguments.length?f.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),f.stepping=e,d)},d.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return f.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return f.useCurrent=e,d},d.collapse=function(e){if(0===arguments.length)return f.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return f.collapse===e||(f.collapse=e,p&&($(),H())),d},d.icons=function(e){if(0===arguments.length)return V.extend({},f.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return V.extend(f.icons,e),p&&($(),H()),d},d.useStrict=function(e){if(0===arguments.length)return f.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return f.useStrict=e,d},d.sideBySide=function(e){if(0===arguments.length)return f.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return f.sideBySide=e,p&&($(),H()),d},d.viewMode=function(e){if(0===arguments.length)return f.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===y.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+y.join(", ")+") value");return f.viewMode=e,o=Math.max(y.indexOf(e),g),E(),d},d.toolbarPlacement=function(e){if(0===arguments.length)return f.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===C.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+C.join(", ")+") value");return f.toolbarPlacement=e,p&&($(),H()),d},d.widgetPositioning=function(e){if(0===arguments.length)return V.extend({},f.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===w.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")");f.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===b.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");f.widgetPositioning.vertical=e.vertical}return N(),d},d.calendarWeeks=function(e){if(0===arguments.length)return f.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return f.calendarWeeks=e,N(),d},d.showTodayButton=function(e){if(0===arguments.length)return f.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return f.showTodayButton=e,p&&($(),H()),d},d.showDBDayButton=function(e){if(0===arguments.length)return f.showDBDayButton;if("boolean"!=typeof e)throw new TypeError("showDBDayButton() expects a boolean parameter");return f.showDBDayButton=e,p&&($(),H()),d},d.showClear=function(e){if(0===arguments.length)return f.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return f.showClear=e,p&&($(),H()),d},d.widgetParent=function(e){if(0===arguments.length)return f.widgetParent;if("string"==typeof e&&(e=V(e)),null!==e&&"string"!=typeof e&&!(e instanceof V))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return f.widgetParent=e,p&&($(),H()),d},d.keepOpen=function(e){if(0===arguments.length)return f.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return f.keepOpen=e,d},d.focusOnShow=function(e){if(0===arguments.length)return f.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return f.focusOnShow=e,d},d.inline=function(e){if(0===arguments.length)return f.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return f.inline=e,d},d.clear=function(){return e(),d},d.keyBinds=function(e){return f.keyBinds=e,d},d.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return f.debug=e,d},d.allowInputToggle=function(e){if(0===arguments.length)return f.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return f.allowInputToggle=e,d},d.showClose=function(e){if(0===arguments.length)return f.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return f.showClose=e,d},d.keepInvalid=function(e){if(0===arguments.length)return f.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return f.keepInvalid=e,d},d.datepickerInput=function(e){if(0===arguments.length)return f.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return f.datepickerInput=e,d},d.parseInputDate=function(e){if(0===arguments.length)return f.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return f.parseInputDate=e,d},d.disabledTimeIntervals=function(e){if(0===arguments.length)return f.disabledTimeIntervals?V.extend({},f.disabledTimeIntervals):f.disabledTimeIntervals;if(!e)return f.disabledTimeIntervals=!1,N(),d;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return f.disabledTimeIntervals=e,N(),d},d.disabledHours=function(e){if(0===arguments.length)return f.disabledHours?V.extend({},f.disabledHours):f.disabledHours;if(!e)return f.disabledHours=!1,N(),d;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(f.disabledHours=W(e),f.enabledHours=!1,f.useCurrent&&!f.keepInvalid){for(var t=0;!O(c,"h");){if(c.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}L(c)}return N(),d},d.enabledHours=function(e){if(0===arguments.length)return f.enabledHours?V.extend({},f.enabledHours):f.enabledHours;if(!e)return f.enabledHours=!1,N(),d;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(f.enabledHours=W(e),f.disabledHours=!1,f.useCurrent&&!f.keepInvalid){for(var t=0;!O(c,"h");){if(c.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}L(c)}return N(),d},d.viewDate=function(e){if(0===arguments.length)return u.clone();if(!e)return u=c.clone(),d;if(!("string"==typeof e||G.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return u=B(e),P(),d},a.is("input"))n=a;else if(0===(n=a.find(f.datepickerInput)).size())n=a.find("input");else if(!n.is("input"))throw Error('CSS class "'+f.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("input-group")&&(l=0===a.find(".datepickerbutton").size()?a.find('[class^="input-group-"]'):a.find(".datepickerbutton")),!f.inline&&!n.is("input"))throw Error("Could not initialize DateTimePicker without an input element");return V.extend(!0,f,(s={},(r=a.is("input")||f.inline?a.data():a.find("input").data()).dateOptions&&r.dateOptions instanceof Object&&(s=V.extend(!0,s,r.dateOptions)),V.each(f,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==r[t]&&(s[e]=r[t])}),s)),d.options(f),K(),n.on({change:z,blur:f.debug?"":$,keydown:j,keyup:U,focus:f.allowInputToggle?H:""}),a.is("input")?n.on({focus:H}):l&&(l.on("click",R),l.on("mousedown",!1)),n.prop("disabled")&&d.disable(),n.is("input")&&0!==n.val().trim().length?L(B(n.val().trim())):f.defaultDate&&void 0===n.attr("placeholder")&&L(f.defaultDate),f.inline&&H(),d};V.fn.datetimepicker=function(t){return this.each(function(){var e=V(this);e.data("DateTimePicker")||(t=V.extend(!0,{},V.fn.datetimepicker.defaults,t),e.data("DateTimePicker",n(e,t)))})},V.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:G.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-clock-o",dbday:"fa fa-diamond",clear:"fa fa-trash-o",close:"fa fa-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showDBDayButton:!0,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(1,"m"))}},down:function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(1,"m"))}else this.show()},"control up":function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||G();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(G())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),function(c){"use strict";function o(e,t){this.$select=c(e),this.$select.attr("data-placeholder")&&(t.nonSelectedText=this.$select.data("placeholder")),this.options=this.mergeOptions(c.extend({},t,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=c.proxy(this.options.onChange,this),this.options.onDropdownShow=c.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=c.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=c.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=c.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&c("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(e,t,n){var i=c(e),o=ko.toJS(t());if(i.multiselect(o),n.has("options")){var a=n.get("options");ko.isObservable(a)&&ko.computed({read:function(){a(),setTimeout(function(){var e=i.data("multiselect");e&&e.updateOriginalOptions(),i.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:e})}if(n.has("value")){var r=n.get("value");ko.isObservable(r)&&ko.computed({read:function(){r(),setTimeout(function(){i.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(n.has("selectedOptions")){var s=n.get("selectedOptions");ko.isObservable(s)&&ko.computed({read:function(){s(),setTimeout(function(){i.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){i.multiselect("destroy")})},update:function(e,t){var n=c(e),i=ko.toJS(t());n.multiselect("setOptions",i),n.multiselect("rebuild")}}),o.prototype={defaults:{buttonText:function(e,t){if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length===c("option",c(t)).length&&1!==c("option",c(t)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var n="",i=this.delimiterText;return e.each(function(){var e=void 0!==c(this).attr("label")?c(this).attr("label"):c(this).text();n+=e+i}),n.substr(0,n.length-2)},buttonTitle:function(e){if(0===e.length)return this.nonSelectedText;var t="",n=this.delimiterText;return e.each(function(){var e=void 0!==c(this).attr("label")?c(this).attr("label"):c(this).text();t+=e+n}),t.substr(0,t.length-2)},optionLabel:function(e){return c(e).attr("label")||c(e).text()},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:o,buildContainer:function(){this.$container=c(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=c(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=c(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(c.proxy(function(e,t){var n=c(t),i=n.prop("tagName").toLowerCase();n.prop("value")!==this.options.selectAllValue&&("optgroup"===i?this.createOptgroup(t):"option"===i&&("divider"===n.data("role")?this.createDivider():this.createOptionValue(t)))},this)),c("li input",this.$ul).on("change",c.proxy(function(e){var t=c(e.target),n=t.prop("checked")||!1,i=t.val()===this.options.selectAllValue;this.options.selectedClass&&(n?t.closest("li").addClass(this.options.selectedClass):t.closest("li").removeClass(this.options.selectedClass));var o=t.val(),a=this.getOptionByValue(o),r=c("option",this.$select).not(a),s=c("input",this.$container).not(t);return i&&(n?this.selectAll():this.deselectAll()),i||(n?(a.prop("selected",!0),this.options.multiple?a.prop("selected",!0):(this.options.selectedClass&&c(s).closest("li").removeClass(this.options.selectedClass),c(s).prop("checked",!1),r.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&r.closest("a").css("outline","")):a.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(a,n),!this.options.preventInputChangeEvent&&void 0},this)),c("li a",this.$ul).on("mousedown",function(e){return!e.shiftKey&&void 0}),c("li a",this.$ul).on("touchstart click",c.proxy(function(e){e.stopPropagation();var t=c(e.target);if(e.shiftKey&&this.options.multiple){t.is("label")&&(e.preventDefault(),(t=t.find("input")).prop("checked",!t.prop("checked")));var n=t.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==t){var i=t.closest("li").index(),o=this.lastToggledInput.closest("li").index();if(o<i){var a=o;o=i,i=a}++o;var r=this.$ul.find("li").slice(i,o).find("input");r.prop("checked",n),this.options.selectedClass&&r.closest("li").toggleClass(this.options.selectedClass,n);for(var s=0,l=r.length;s<l;s++){var d=c(r[s]);this.getOptionByValue(d.val()).prop("selected",n)}}t.trigger("change")}t.is("input")&&!t.closest("li").is(".multiselect-item")&&(this.lastToggledInput=t),t.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",c.proxy(function(e){if(!c('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var t=c(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!t.length)return;var n=t.index(t.filter(":focus"));38===e.keyCode&&0<n?n--:40===e.keyCode&&n<t.length-1?n++:~n||(n=0);var i=t.eq(n);if(i.focus(),32===e.keyCode||13===e.keyCode){var o=i.find("input");o.prop("checked",!o.prop("checked")),o.change()}e.stopPropagation(),e.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&c("li.multiselect-group",this.$ul).on("click",c.proxy(function(e){e.stopPropagation();var t=c(e.target).parent().nextUntil("li.multiselect-group").filter(":visible:not(.disabled)"),n=!0,i=t.find("input");i.each(function(){n=n&&c(this).prop("checked")}),i.prop("checked",!n).trigger("change")},this))},createOptionValue:function(e){var t=c(e);t.is(":selected")&&t.prop("selected",!0);var n=this.options.optionLabel(e),i=t.val(),o=this.options.multiple?"checkbox":"radio",a=c(this.options.templates.li),r=c("label",a);r.addClass(o),this.options.enableHTML?r.html(" "+n):r.text(" "+n);var s=c("<input/>").attr("type",o);this.options.checkboxName&&s.attr("name",this.options.checkboxName),r.prepend(s);var l=t.prop("selected")||!1;s.val(i),i===this.options.selectAllValue&&(a.addClass("multiselect-item multiselect-all"),s.parent().parent().addClass("multiselect-all")),r.attr("title",t.attr("title")),this.$ul.append(a),t.is(":disabled")&&s.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),s.prop("checked",l),l&&this.options.selectedClass&&s.closest("li").addClass(this.options.selectedClass)},createDivider:function(){var e=c(this.options.templates.divider);this.$ul.append(e)},createOptgroup:function(e){var t=c(e).prop("label"),n=c(this.options.templates.liGroup);this.options.enableHTML?c("label",n).html(t):c("label",n).text(t),this.options.enableClickableOptGroups&&n.addClass("multiselect-group-clickable"),this.$ul.append(n),c(e).is(":disabled")&&n.addClass("disabled"),c("option",e).each(c.proxy(function(e,t){this.createOptionValue(t)},this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&c("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(c(this.options.templates.divider));var e=c(this.options.templates.li);c("label",e).addClass("checkbox"),this.options.enableHTML?c("label",e).html(" "+this.options.selectAllText):c("label",e).text(" "+this.options.selectAllText),c("label",e).prepend(this.options.selectAllName?'<input type="checkbox" name="'+this.options.selectAllName+'" />':'<input type="checkbox" />');var t=c("input",e);t.val(this.options.selectAllValue),e.addClass("multiselect-item multiselect-all"),t.parent().parent().addClass("multiselect-all"),this.$ul.prepend(e),t.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=c(this.options.templates.filter),c("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var t=c(this.options.templates.filterClearBtn);t.on("click",c.proxy(function(){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),c("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(t)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",c.proxy(function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(c.proxy(function(){var r,s;this.query!==e.target.value&&(this.query=e.target.value,c.each(c("li",this.$ul),c.proxy(function(e,t){var n=0<c("input",t).length?c("input",t).val():"",i=c("label",t).text(),o="";if("text"===this.options.filterBehavior?o=i:"value"===this.options.filterBehavior?o=n:"both"===this.options.filterBehavior&&(o=i+"\n"+n),n!==this.options.selectAllValue&&i){var a=!1;this.options.enableCaseInsensitiveFiltering&&-1<o.toLowerCase().indexOf(this.query.toLowerCase())?a=!0:-1<o.indexOf(this.query)&&(a=!0),c(t).toggle(a).toggleClass("filter-hidden",!a),c(t).hasClass("multiselect-group")?(r=t,s=a):(a&&c(r).show().removeClass("filter-hidden"),!a&&s&&c(t).show().removeClass("filter-hidden"))}},this)));this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){c("option",this.$select).each(c.proxy(function(e,t){var n=c("li input",this.$ul).filter(function(){return c(this).val()===c(t).val()});c(t).is(":selected")?(n.prop("checked",!0),this.options.selectedClass&&n.closest("li").addClass(this.options.selectedClass)):(n.prop("checked",!1),this.options.selectedClass&&n.closest("li").removeClass(this.options.selectedClass)),c(t).is(":disabled")?n.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):n.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e,t){c.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];if(null!=i){var o=this.getOptionByValue(i),a=this.getInputByValue(i);void 0!==o&&void 0!==a&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&a.closest("li").addClass(this.options.selectedClass),a.prop("checked",!0),o.prop("selected",!0),t&&this.options.onChange(o,!0))}}this.updateButtonText(),this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(e,t){c.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];if(null!=i){var o=this.getOptionByValue(i),a=this.getInputByValue(i);void 0!==o&&void 0!==a&&(this.options.selectedClass&&a.closest("li").removeClass(this.options.selectedClass),a.prop("checked",!1),o.prop("selected",!1),t&&this.options.onChange(o,!1))}}this.updateButtonText(),this.updateSelectAll()},selectAll:function(e,t){e=void 0===e||e;var n=c("li input[type='checkbox']:enabled",this.$ul),i=n.filter(":visible"),o=n.length,a=i.length;if(e?(i.prop("checked",!0),c("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(n.prop("checked",!0),c("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),o===a||!1===e)c("option:enabled",this.$select).prop("selected",!0);else{var r=i.map(function(){return c(this).val()}).get();c("option:enabled",this.$select).filter(function(){return-1!==c.inArray(c(this).val(),r)}).prop("selected",!0)}t&&this.options.onSelectAll()},deselectAll:function(e){if(e=void 0===e||e){var t=c("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");t.prop("checked",!1);var n=t.map(function(){return c(this).val()}).get();c("option:enabled",this.$select).filter(function(){return-1!==c.inArray(c(this).val(),n)}).prop("selected",!1),this.options.selectedClass&&c("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else c("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),c("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&c("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&c("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(e){var i=0,o=this.$select.empty();c.each(e,function(e,t){var n;c.isArray(t.children)?(i++,n=c("<optgroup/>").attr({label:t.label||"Group "+i,disabled:!!t.disabled}),function(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}(t.children,function(e){n.append(c("<option/>").attr({value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled}))})):n=c("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled}),o.append(n)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(e){return c.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return 0<c("li.multiselect-all",this.$ul).length},updateSelectAll:function(){if(this.hasSelectAll()){var e=c("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),t=e.length,n=e.filter(":checked").length,i=c("li.multiselect-all",this.$ul),o=i.find("input");0<n&&n===t?(o.prop("checked",!0),i.addClass(this.options.selectedClass),this.options.onSelectAll()):(o.prop("checked",!1),i.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();this.options.enableHTML?c(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(e,this.$select)):c(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),c(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return c("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var t=c("option",this.$select),n=e.toString(),i=0;i<t.length;i+=1){var o=t[i];if(o.value===n)return c(o)}},getInputByValue:function(e){for(var t=c("li input",this.$ul),n=e.toString(),i=0;i<t.length;i+=1){var o=t[i];if(o.value===n)return c(o)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(n||window,i)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},c.fn.multiselect=function(t,n,i){return this.each(function(){var e=c(this).data("multiselect");e||(e=new o(this,"object"==typeof t&&t),c(this).data("multiselect",e)),"string"==typeof t&&(e[t](n,i),"destroy"===t&&c(this).data("multiselect",!1))})},c.fn.multiselect.Constructor=o,c(function(){c("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(i,o){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(e,t,n){i.daterangepicker=o(i,n,e,t)});else if("undefined"!=typeof exports){var e=require("moment"),t="undefined"!=typeof window?window.jQuery:void 0;if(!t)try{(t=require("jquery")).fn||(t.fn={})}catch(e){if(!t)throw new Error("jQuery dependency not found")}o(i,exports,e,t)}else i.daterangepicker=o(i,{},i.moment||moment,i.jQuery||i.Zepto||i.ender||i.$)}(this||{},function(e,t,Y,F){var i=function(e,t,n){if(this.parentEl="body",this.element=F(e),this.startDate=Y().startOf("day"),this.endDate=Y().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Y.weekdaysMin(),monthNames:Y.monthsShort(),firstDay:Y.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof t||null===t)&&(t={}),"string"!=typeof(t=F.extend(this.element.data(),t)).template&&(t.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=F(t.parentEl&&F(t.parentEl).length?t.parentEl:this.parentEl),this.container=F(t.template).appendTo(this.parentEl),"object"==typeof t.locale&&("string"==typeof t.locale.format&&(this.locale.format=t.locale.format),"string"==typeof t.locale.separator&&(this.locale.separator=t.locale.separator),"object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.startDate&&(this.startDate=Y(t.startDate,this.locale.format)),"string"==typeof t.endDate&&(this.endDate=Y(t.endDate,this.locale.format)),"string"==typeof t.minDate&&(this.minDate=Y(t.minDate,this.locale.format)),"string"==typeof t.maxDate&&(this.maxDate=Y(t.maxDate,this.locale.format)),"object"==typeof t.startDate&&(this.startDate=Y(t.startDate)),"object"==typeof t.endDate&&(this.endDate=Y(t.endDate)),"object"==typeof t.minDate&&(this.minDate=Y(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=Y(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses.join(" ")),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker24Hour&&(this.timePicker24Hour=t.timePicker24Hour),"boolean"==typeof t.autoApply&&(this.autoApply=t.autoApply),"boolean"==typeof t.autoUpdateInput&&(this.autoUpdateInput=t.autoUpdateInput),"boolean"==typeof t.linkedCalendars&&(this.linkedCalendars=t.linkedCalendars),"function"==typeof t.isInvalidDate&&(this.isInvalidDate=t.isInvalidDate),0!=this.locale.firstDay)for(var i=this.locale.firstDay;0<i;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),i--;var o,a,r;if(void 0===t.startDate&&void 0===t.endDate&&F(this.element).is("input[type=text]")){var s=F(this.element).val(),l=s.split(this.locale.separator);o=a=null,2==l.length?(o=Y(l[0],this.locale.format),a=Y(l[1],this.locale.format)):this.singleDatePicker&&""!==s&&(o=Y(s,this.locale.format),a=Y(s,this.locale.format)),null!==o&&null!==a&&(this.setStartDate(o),this.setEndDate(a))}if("object"==typeof t.ranges){for(r in t.ranges){o="string"==typeof t.ranges[r][0]?Y(t.ranges[r][0],this.locale.format):Y(t.ranges[r][0]),a="string"==typeof t.ranges[r][1]?Y(t.ranges[r][1],this.locale.format):Y(t.ranges[r][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var d=this.maxDate;if(this.dateLimit&&o.clone().add(this.dateLimit).isAfter(d)&&(d=o.clone().add(this.dateLimit)),d&&a.isAfter(d)&&(a=d.clone()),!(this.minDate&&a.isBefore(this.minDate)||d&&o.isAfter(d))){var c=document.createElement("textarea");c.innerHTML=r,rangeHtml=c.value,this.ranges[rangeHtml]=[o,a]}}var u="<ul>";for(r in this.ranges)u+="<li>"+r+"</li>";u+="<li>"+this.locale.customRangeLabel+"</li>",u+="</ul>",this.container.find(".ranges").prepend(u)}if("function"==typeof n&&(this.callback=n),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof t.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),void 0!==t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==t.ranges&&"right"==this.opens){var h=this.container.find(".ranges"),p=h.clone();h.remove(),this.container.find(".calendar.left").parent().prepend(p)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",F.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",F.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",F.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",F.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",F.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",F.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",F.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",F.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",F.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",F.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",F.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",F.proxy(this.clickCancel,this)).on("click.daterangepicker","li",F.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",F.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",F.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":F.proxy(this.show,this),"focus.daterangepicker":F.proxy(this.show,this),"keyup.daterangepicker":F.proxy(this.elementChanged,this),"keydown.daterangepicker":F.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",F.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};i.prototype={constructor:i,setStartDate:function(e){"string"==typeof e&&(this.startDate=Y(e,this.locale.format)),"object"==typeof e&&(this.startDate=Y(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=Y(e,this.locale.format)),"object"==typeof e&&(this.endDate=Y(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".left .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i;"PM"===(i=this.container.find(".left .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}if(this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate){var o=!0,a=0;for(var r in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[r][0])&&this.endDate.isSame(this.ranges[r][1])){o=!1,this.chosenLabel=this.container.find(".ranges li:eq("+a+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[r][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[r][1].format("YYYY-MM-DD")){o=!1,this.chosenLabel=this.container.find(".ranges li:eq("+a+")").addClass("active").html();break}a++}o&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(e){var t,n=(t="left"==e?this.leftCalendar:this.rightCalendar).month.month(),i=t.month.year(),o=t.month.hour(),a=t.month.minute(),r=t.month.second(),s=Y([i,n]).daysInMonth(),l=Y([i,n,1]),d=Y([i,n,s]),c=Y(l).subtract(1,"month").month(),u=Y(l).subtract(1,"month").year(),h=Y([u,c]).daysInMonth(),p=l.day();(t=[]).firstDay=l,t.lastDay=d;for(var f=0;f<6;f++)t[f]=[];var m=h-p+this.locale.firstDay+1;h<m&&(m-=7),p==this.locale.firstDay&&(m=h-6);for(var g=Y([u,c,m,12,a,r]),v=(f=0,0),y=0;f<42;f++,v++,g=Y(g).add(24,"hour"))0<f&&v%7==0&&(v=0,y++),t[y][v]=g.clone().hour(o).minute(a).second(r),g.hour(12),this.minDate&&t[y][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[y][v].isBefore(this.minDate)&&"left"==e&&(t[y][v]=this.minDate.clone()),this.maxDate&&t[y][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[y][v].isAfter(this.maxDate)&&"right"==e&&(t[y][v]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var b="left"==e?this.minDate:this.startDate,w=this.maxDate,C=("left"==e?this.startDate:this.endDate,'<table class="table-condensed">');C+="<thead>",C+="<tr>",this.showWeekNumbers&&(C+="<th></th>"),C+=b&&!b.isBefore(t.firstDay)||this.linkedCalendars&&"left"!=e?"<th></th>":'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';var k=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");if(this.showDropdowns){for(var D=t[1][1].month(),x=t[1][1].year(),_=w&&w.year()||x+5,T=b&&b.year()||x-50,M=x==T,S=x==_,A='<select class="monthselect">',P=0;P<12;P++)A+=(!M||P>=b.month())&&(!S||P<=w.month())?"<option value='"+P+"'"+(P===D?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>":"<option value='"+P+"'"+(P===D?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>";A+="</select>";for(var E='<select class="yearselect">',O=T;O<=_;O++)E+='<option value="'+O+'"'+(O===x?' selected="selected"':"")+">"+O+"</option>";k=A+(E+="</select>")}if(C+='<th colspan="5" class="month">'+k+"</th>",C+=w&&!w.isAfter(t.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>',C+="</tr>",C+="<tr>",this.showWeekNumbers&&(C+='<th class="week">'+this.locale.weekLabel+"</th>"),F.each(this.locale.daysOfWeek,function(e,t){C+="<th>"+t+"</th>"}),C+="</tr>",C+="</thead>",C+="<tbody>",null==this.endDate&&this.dateLimit){var I=this.startDate.clone().add(this.dateLimit).endOf("day");(!w||I.isBefore(w))&&(w=I)}for(y=0;y<6;y++){C+="<tr>",this.showWeekNumbers&&(C+='<td class="week">'+t[y][0].week()+"</td>");for(v=0;v<7;v++){var N=[];t[y][v].isSame(new Date,"day")&&N.push("today"),5<t[y][v].isoWeekday()&&N.push("weekend"),t[y][v].month()!=t[1][1].month()&&N.push("off"),this.minDate&&t[y][v].isBefore(this.minDate,"day")&&N.push("off","disabled"),w&&t[y][v].isAfter(w,"day")&&N.push("off","disabled"),this.isInvalidDate(t[y][v])&&N.push("off","disabled"),t[y][v].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&N.push("active","start-date"),null!=this.endDate&&t[y][v].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&N.push("active","end-date"),null!=this.endDate&&t[y][v]>this.startDate&&t[y][v]<this.endDate&&N.push("in-range");var L="",$=!1;for(f=0;f<N.length;f++)L+=N[f]+" ","disabled"==N[f]&&($=!0);$||(L+="available"),C+='<td class="'+L.replace(/^\s+|\s+$/g,"")+'" data-title="r'+y+"c"+v+'">'+t[y][v].date()+"</td>"}C+="</tr>"}C+="</tbody>",C+="</table>",this.container.find(".calendar."+e+" .calendar-table").html(C)},renderTimePicker:function(e){var t,n,i,o=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(o=this.startDate.clone().add(this.dateLimit)),"left"==e?(n=this.startDate.clone(),i=this.minDate):"right"==e&&(n=this.endDate?this.endDate.clone():this.startDate.clone(),i=this.startDate),t='<select class="hourselect">';for(var a=this.timePicker24Hour?0:1,r=this.timePicker24Hour?23:12,s=a;s<=r;s++){var l=s;this.timePicker24Hour||(l=12<=n.hour()?12==s?12:s+12:12==s?0:s);var d=n.clone().hour(l),c=!1;i&&d.minute(59).isBefore(i)&&(c=!0),o&&d.minute(0).isAfter(o)&&(c=!0),t+=l!=n.hour()||c?c?'<option value="'+s+'" disabled="disabled" class="disabled">'+s+"</option>":'<option value="'+s+'">'+s+"</option>":'<option value="'+s+'" selected="selected">'+s+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(s=0;s<60;s+=this.timePickerIncrement){var u=s<10?"0"+s:s;d=n.clone().minute(s),c=!1;i&&d.second(59).isBefore(i)&&(c=!0),o&&d.second(0).isAfter(o)&&(c=!0),t+=n.minute()!=s||c?c?'<option value="'+s+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+s+'">'+u+"</option>":'<option value="'+s+'" selected="selected">'+u+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(s=0;s<60;s++){u=s<10?"0"+s:s,d=n.clone().second(s),c=!1;i&&d.isBefore(i)&&(c=!0),o&&d.isAfter(o)&&(c=!0),t+=n.second()!=s||c?c?'<option value="'+s+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+s+'">'+u+"</option>":'<option value="'+s+'" selected="selected">'+u+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var h="",p="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(h=' disabled="disabled" class="disabled"'),o&&n.clone().hour(0).minute(0).second(0).isAfter(o)&&(p=' disabled="disabled" class="disabled"'),t+=12<=n.hour()?'<option value="AM"'+h+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":'<option value="AM" selected="selected"'+h+'>AM</option><option value="PM"'+p+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,t={top:0,left:0},n=F(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-t.top:this.element.offset().top+this.element.outerHeight()-t.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>F(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=F.proxy(function(e){this.outsideClick(e)},this),F(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),F(window).on("resize.daterangepicker",F.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),F(document).off(".daterangepicker"),F(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=F(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(e){var t=e.target.innerHTML;if((this.chosenLabel=t)==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply()}},clickPrev:function(e){F(e.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){F(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&F(e.target).hasClass("available")){var t=F(e.target).attr("data-title"),n=t.substr(1,1),i=t.substr(3,1),r=F(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];this.endDate?this.container.find("input[name=daterangepicker_start]").val(r.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(r.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,d=this.startDate;this.endDate||this.container.find(".calendar td").each(function(e,t){if(!F(t).hasClass("week")){var n=F(t).attr("data-title"),i=n.substr(1,1),o=n.substr(3,1),a=F(t).parents(".calendar").hasClass("left")?s.calendar[i][o]:l.calendar[i][o];a.isAfter(d)&&a.isBefore(r)?F(t).addClass("in-range"):F(t).removeClass("in-range")}})}},clickDate:function(e){if(F(e.target).hasClass("available")){var t=F(e.target).attr("data-title"),n=t.substr(1,1),i=t.substr(3,1),o=F(e.target).parents(".calendar"),a=o.hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];if(this.endDate||a.isBefore(this.startDate)){if(this.timePicker){var r=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(d=o.find(".ampmselect").val())&&r<12&&(r+=12),"AM"===d&&12===r&&(r=0);var s=parseInt(this.container.find(".left .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(r).minute(s).second(l)}this.endDate=null,this.setStartDate(a.clone())}else{if(this.timePicker){var d;r=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(d=this.container.find(".right .ampmselect").val())&&r<12&&(r+=12),"AM"===d&&12===r&&(r=0);s=parseInt(this.container.find(".right .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;a=a.clone().hour(r).minute(s).second(l)}this.setEndDate(a.clone()),this.autoApply&&this.clickApply()}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},clickApply:function(){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var t=F(e.target).closest(".calendar").hasClass("left"),n=t?"left":"right",i=this.container.find(".calendar."+n),o=parseInt(i.find(".monthselect").val(),10),a=i.find(".yearselect").val();t||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),t?(this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var t=F(e.target).closest(".calendar"),n=t.hasClass("left"),i=parseInt(t.find(".hourselect").val(),10),o=parseInt(t.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(t.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var r=t.find(".ampmselect").val();"PM"===r&&i<12&&(i+=12),"AM"===r&&12===i&&(i=0)}if(n){var s=this.startDate.clone();s.hour(i),s.minute(o),s.second(a),this.setStartDate(s),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==s.format("YYYY-MM-DD")&&this.endDate.isBefore(s)&&this.setEndDate(s.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(i),l.minute(o),l.second(a),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var t=F(e.target).closest(".calendar").hasClass("right"),n=Y(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),i=Y(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);n.isValid()&&i.isValid()&&(t&&i.isBefore(n)&&(n=i.clone()),this.setStartDate(n),this.setEndDate(i),t?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var e=this.element.val().split(this.locale.separator),t=null,n=null;2===e.length&&(t=Y(e[0],this.locale.format),n=Y(e[1],this.locale.format)),(this.singleDatePicker||null===t||null===n)&&(n=t=Y(this.element.val(),this.locale.format)),t.isValid()&&n.isValid()&&(this.setStartDate(t),this.setEndDate(n),this.updateView())}},keydown:function(e){(9===e.keyCode||13===e.keyCode)&&this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},F.fn.daterangepicker=function(t,n){return this.each(function(){var e=F(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new i(e,t,n))}),this}}),function(d){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var s=e.handler,l=e.data.keys.toLowerCase().split(" ");e.handler=function(n){if(this===n.target||!(d.hotkeys.options.filterInputAcceptingElements&&d.hotkeys.textInputTypes.test(n.target.nodeName)||d.hotkeys.options.filterContentEditable&&d(n.target).attr("contenteditable")||d.hotkeys.options.filterTextInputs&&-1<d.inArray(n.target.type,d.hotkeys.textAcceptingInputTypes))){var i="keypress"!==n.type&&d.hotkeys.specialKeys[n.which],e=String.fromCharCode(n.which).toLowerCase(),o="",t={};d.each(["alt","ctrl","shift"],function(e,t){n[t+"Key"]&&i!==t&&(o+=t+"+")}),n.metaKey&&!n.ctrlKey&&"meta"!==i&&(o+="meta+"),n.metaKey&&"meta"!==i&&-1<o.indexOf("alt+ctrl+shift+")&&(o=o.replace("alt+ctrl+shift+","hyper+")),i?t[o+i]=!0:(t[o+e]=!0,t[o+d.hotkeys.shiftNums[e]]=!0,"shift+"===o&&(t[d.hotkeys.shiftNums[e]]=!0));for(var a=0,r=l.length;a<r;a++)if(t[l[a]])return s.apply(this,arguments)}}}}d.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},d.each(["keydown","keyup","keypress"],function(){d.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function y(){return Se.apply(null,arguments)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)b(t,n)&&(e[n]=t[n]);return b(t,"toString")&&(e.toString=t.toString),b(t,"valueOf")&&(e.valueOf=t.valueOf),e}function r(e,t,n,i){return G(e,t,n,i,!0).utc()}function D(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),e._pf}function u(e){if(null==e._isValid){var t=D(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=r(NaN);return null!=e?c(D(t),e):D(t).userInvalidated=!0,t}function p(e,t){var n,i,o;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=D(t)),void 0!==t._locale&&(e._locale=t._locale),0<Pe.length)for(n in Pe)void 0!==(o=t[i=Pe[n]])&&(e[i]=o);return e}function f(e){p(this,e),this._d=new Date(+e._d),!1===Ee&&(Ee=!0,y.updateOffset(this),Ee=!1)}function m(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=0<=t?Math.floor(t):Math.ceil(t)),n}function s(e,t,n){var i,o=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),r=0;for(i=0;i<o;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&r++;return r+a}function n(){}function v(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){var t=null;if(!Oe[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ae._abbr,require("./locale/"+e),i(t)}catch(e){}return Oe[e]}function i(e,t){var n;return e&&((n=void 0===t?C(e):o(e,t))&&(Ae=n)),Ae._abbr}function o(e,t){return null!==t?(t.abbr=e,Oe[e]||(Oe[e]=new n),Oe[e].set(t),i(e),Oe[e]):(delete Oe[e],null)}function C(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ae;if(!l(e)){if(t=w(e))return t;e=[e]}return function(e){for(var t,n,i,o,a=0;a<e.length;){for(t=(o=v(e[a]).split("-")).length,n=(n=v(e[a+1]))?n.split("-"):null;0<t;){if(i=w(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&s(o,n,!0)>=t-1)break;t--}a++}return null}(e)}function e(e,t){var n=e.toLowerCase();Ie[n]=Ie[n+"s"]=Ie[t]=e}function k(e){return"string"==typeof e?Ie[e]||Ie[e.toLowerCase()]:void 0}function x(e){var t,n,i={};for(n in e)b(e,n)&&((t=k(n))&&(i[t]=e[n]));return i}function t(t,n){return function(e){return null!=e?(T(this,t,e),y.updateOffset(this,n),this):_(this,t)}}function _(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function T(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function a(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if("function"==typeof this[e=k(e)])return this[e](t);return this}function M(e,t,n){for(var i=""+Math.abs(e),o=0<=e;i.length<t;)i="0"+i;return(o?n?"+":"":"-")+i}function S(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(Ye[e]=o),t&&(Ye[t[0]]=function(){return M(o.apply(this,arguments),t[1],t[2])}),n&&(Ye[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function A(e,t){return e.isValid()?(t=P(t,e.localeData()),$e[t]||($e[t]=function(n){var i,o,e,a=n.match(Ne);for(i=0,o=a.length;i<o;i++)Ye[a[i]]?a[i]=Ye[a[i]]:a[i]=(e=a[i]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){var t="";for(i=0;i<o;i++)t+=a[i]instanceof Function?a[i].call(e,n):a[i];return t}}(t)),$e[t](e)):e.localeData().invalidDate()}function P(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Le.lastIndex=0;0<=i&&Le.test(e);)e=e.replace(Le,n),Le.lastIndex=0,i-=1;return e}function E(e,t,n){Ze[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function O(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),"number"==typeof n&&(i=function(e,t){t[n]=g(e)}),t=0;t<e.length;t++)Qe[e[t]]=i}function I(e,o){O(e,function(e,t,n,i){n._w=n._w||{},o(e,n._w,n,i)})}function N(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function L(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))||(n=Math.min(e.date(),N(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)),e}function $(e){return null!=e?(L(this,e),y.updateOffset(this,!0),this):_(this,"Month")}function Y(e){var t,n=e._a;return n&&-2===D(e).overflow&&(t=n[Xe]<0||11<n[Xe]?Xe:n[et]<1||n[et]>N(n[Je],n[Xe])?et:n[tt]<0||24<n[tt]||24===n[tt]&&(0!==n[nt]||0!==n[it]||0!==n[ot])?tt:n[nt]<0||59<n[nt]?nt:n[it]<0||59<n[it]?it:n[ot]<0||999<n[ot]?ot:-1,D(e)._overflowDayOfYear&&(t<Je||et<t)&&(t=et),D(e).overflow=t),e}function F(e){!1===y.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function H(e,t){var n=!0,i=e+"\n"+(new Error).stack;return c(function(){return n&&(F(i),n=!1),t.apply(this,arguments)},t)}function R(e){var t,n,i=e._i,o=lt.exec(i);if(o){for(D(e).iso=!0,t=0,n=dt.length;t<n;t++)if(dt[t][1].exec(i)){e._f=dt[t][0]+(o[6]||" ");break}for(t=0,n=ct.length;t<n;t++)if(ct[t][1].exec(i)){e._f+=ct[t][0];break}i.match(Ve)&&(e._f+="Z"),K(e)}else e._isValid=!1}function B(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function j(e){return U(e)?366:365}function U(e){return e%4==0&&e%100!=0||e%400==0}function z(e,t,n){var i,o=n-t,a=n-e.day();return o<a&&(a-=7),a<o-7&&(a+=7),i=Z(e).add(a,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function q(e,t,n){return null!=e?e:null!=t?t:n}function W(e){var t,n,i,o,a,r,s,l,d,c,u,h,p,f,m,g,v,y,b,w,C,k=[];if(!e._d){for(w=e,C=void 0,C=new Date,i=w._useUTC?[C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate()]:[C.getFullYear(),C.getMonth(),C.getDate()],e._w&&null==e._a[et]&&null==e._a[Xe]&&(b=y=v=g=m=f=p=h=u=c=d=l=s=r=void 0,null!=(r=(a=e)._w).GG||null!=r.W||null!=r.E?(c=1,u=4,s=q(r.GG,a._a[Je],z(Z(),1,4).year),l=q(r.W,1),d=q(r.E,1)):(c=a._locale._week.dow,u=a._locale._week.doy,s=q(r.gg,a._a[Je],z(Z(),c,u).year),l=q(r.w,1),null!=r.d?(d=r.d)<c&&++l:d=null!=r.e?r.e+c:c),f=l,m=d,g=u,v=c,b=B(p=s,0,1).getUTCDay(),h={year:0<(y=7*(f-1)+((m=null!=m?m:v)-v)+(v-(b=0===b?7:b)+(g<b?7:0)-(b<v?7:0))+1)?p:p-1,dayOfYear:0<y?y:j(p-1)+y},a._a[Je]=h.year,a._dayOfYear=h.dayOfYear),e._dayOfYear&&(o=q(e._a[Je],i[Je]),e._dayOfYear>j(o)&&(D(e)._overflowDayOfYear=!0),n=B(o,0,e._dayOfYear),e._a[Xe]=n.getUTCMonth(),e._a[et]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=k[t]=i[t];for(;t<7;t++)e._a[t]=k[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[tt]&&0===e._a[nt]&&0===e._a[it]&&0===e._a[ot]&&(e._nextDay=!0,e._a[tt]=0),e._d=(e._useUTC?B:function(e,t,n,i,o,a,r){var s=new Date(e,t,n,i,o,a,r);return e<1970&&s.setFullYear(e),s}).apply(null,k),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[tt]=24)}}function K(e){if(e._f!==y.ISO_8601){e._a=[],D(e).empty=!0;var t,n,i,o,a,r,s,l,d,c,u,h,p,f,m=""+e._i,g=m.length,v=0;for(i=P(e._f,e._locale).match(Ne)||[],t=0;t<i.length;t++)o=i[t],(n=(m.match((d=o,c=e,b(Ze,d)?Ze[d](c._strict,c._locale):new RegExp(d.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))))||[])[0])&&(0<(a=m.substr(0,m.indexOf(n))).length&&D(e).unusedInput.push(a),m=m.slice(m.indexOf(n)+n.length),v+=n.length),Ye[o]?(n?D(e).empty=!1:D(e).unusedTokens.push(o),r=o,l=e,null!=(s=n)&&b(Qe,r)&&Qe[r](s,l._a,l,r)):e._strict&&!n&&D(e).unusedTokens.push(o);D(e).charsLeftOver=g-v,0<m.length&&D(e).unusedInput.push(m),!0===D(e).bigHour&&e._a[tt]<=12&&0<e._a[tt]&&(D(e).bigHour=void 0),e._a[tt]=(u=e._locale,h=e._a[tt],null==(p=e._meridiem)?h:null!=u.meridiemHour?u.meridiemHour(h,p):(null!=u.isPM&&((f=u.isPM(p))&&h<12&&(h+=12),f||12!==h||(h=0)),h)),W(e),Y(e)}else R(e)}function V(e){var t,n,i,o,a,r=e._i,s=e._f;return e._locale=e._locale||C(e._l),null===r||void 0===s&&""===r?h({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),m(r)?new f(Y(r)):(l(s)?function(e){var t,n,i,o,a;if(0===e._f.length)return D(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<e._f.length;o++)a=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],K(t),u(t)&&(a+=D(t).charsLeftOver,a+=10*D(t).unusedTokens.length,D(t).score=a,(null==i||a<i)&&(i=a,n=t));c(e,n||t)}(e):s?K(e):d(r)?e._d=r:void 0===(i=(n=e)._i)?n._d=new Date:d(i)?n._d=new Date(+i):"string"==typeof i?(o=n,null!==(a=ut.exec(o._i))?o._d=new Date(+a[1]):(R(o),!1===o._isValid&&(delete o._isValid,y.createFromInputFallback(o)))):l(i)?(n._a=function(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}(i.slice(0),function(e){return parseInt(e,10)}),W(n)):"object"==typeof i?function(e){if(!e._d){var t=x(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],W(e)}}(n):"number"==typeof i?n._d=new Date(i):y.createFromInputFallback(n),(t=new f(Y(e)))._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function G(e,t,n,i,o){var a={};return"boolean"==typeof n&&(i=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=i,V(a)}function Z(e,t,n,i){return G(e,t,n,i,!1)}function Q(e,t){var n,i;if(1===t.length&&l(t[0])&&(t=t[0]),!t.length)return Z();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function J(e){var t=x(e),n=t.year||0,i=t.quarter||0,o=t.month||0,a=t.week||0,r=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*d+6e4*l+36e5*s,this._days=+r+7*a,this._months=+o+3*i+12*n,this._data={},this._locale=C(),this._bubble()}function X(e){return e instanceof J}function ee(e,n){S(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+M(~~(e/60),2)+n+M(~~e%60,2)})}function te(e){var t=(e||"").match(Ve)||[],n=((t[t.length-1]||[])+"").match(mt)||["-",0,0],i=60*n[1]+g(n[2]);return"+"===n[0]?i:-i}function ne(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(m(e)||d(e)?+e:+Z(e))-+n,n._d.setTime(+n._d+i),y.updateOffset(n,!1),n):Z(e).local()}function ie(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function oe(){return this._isUTC&&0===this._offset}function ae(e,t){var n,i,o,a,r,s,l=e,d=null;return X(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(l={},t?l[t]=e:l.milliseconds=e):(d=gt.exec(e))?(n="-"===d[1]?-1:1,l={y:0,d:g(d[et])*n,h:g(d[tt])*n,m:g(d[nt])*n,s:g(d[it])*n,ms:g(d[ot])*n}):(d=vt.exec(e))?(n="-"===d[1]?-1:1,l={y:re(d[2],n),M:re(d[3],n),d:re(d[4],n),h:re(d[5],n),m:re(d[6],n),s:re(d[7],n),w:re(d[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(a=Z(l.from),r=ne(r=Z(l.to),a),a.isBefore(r)?s=se(a,r):((s=se(r,a)).milliseconds=-s.milliseconds,s.months=-s.months),(l={}).ms=(o=s).milliseconds,l.M=o.months),i=new J(l),X(e)&&b(e,"_locale")&&(i._locale=e._locale),i}function re(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function se(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function le(a,r){return function(e,t){var n,i,o;return null===t||isNaN(+t)||(o="moment()."+(i=r)+"(period, number) is deprecated. Please use moment()."+r+"(number, period).",st[i]||(F(o),st[i]=!0),n=e,e=t,t=n),de(this,ae(e="string"==typeof e?+e:e,t),a),this}}function de(e,t,n,i){var o=t._milliseconds,a=t._days,r=t._months;i=null==i||i,o&&e._d.setTime(+e._d+o*n),a&&T(e,"Date",_(e,"Date")+a*n),r&&L(e,_(e,"Month")+r*n),i&&y.updateOffset(e,a||r)}function ce(e){return e<0?Math.ceil(e):Math.floor(e)}function ue(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():A(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function he(e){var t;return void 0===e?this._locale._abbr:(null!=(t=C(e))&&(this._locale=t),this)}function pe(){return this._locale}function fe(e,t){S(0,[e,e.length],0,t)}function me(e,t,n){return z(Z([e,11,31+t-n]),t,n).week}function ge(e,t){S(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ve(e,t){return t._meridiemParse}function ye(e){S(0,[e,3],0,"millisecond")}function be(e){return e}function we(e,t,n,i){var o=C(),a=r().set(i,t);return o[n](a,e)}function Ce(e,t,n,i,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return we(e,t,n,o);var a,r=[];for(a=0;a<i;a++)r[a]=we(e,a,n,o);return r}function ke(e,t,n,i){var o=ae(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function De(e){return 400*e/146097}function xe(e){return 146097*e/400}function _e(e){return function(){return this.as(e)}}function Te(e){return function(){return this._data[e]}}function Me(){var e=Zt(this.years()),t=Zt(this.months()),n=Zt(this.days()),i=Zt(this.hours()),o=Zt(this.minutes()),a=Zt(this.seconds()+this.milliseconds()/1e3),r=this.asSeconds();return r?(r<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||o||a?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(a?a+"S":""):"P0D"}var Se,Ae,Pe=y.momentProperties=[],Ee=!1,Oe={},Ie={},Ne=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$e={},Ye={},Fe=/\d/,He=/\d\d/,Re=/\d{3}/,Be=/\d{4}/,je=/[+-]?\d{6}/,Ue=/\d\d?/,ze=/\d{1,3}/,qe=/\d{1,4}/,We=/[+-]?\d{1,6}/,Ke=/[+-]?\d+/,Ve=/Z|[+-]\d\d:?\d\d/gi,Ge=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ze={},Qe={},Je=0,Xe=1,et=2,tt=3,nt=4,it=5,ot=6;S("M",["MM",2],"Mo",function(){return this.month()+1}),S("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),S("MMMM",0,0,function(e){return this.localeData().months(this,e)}),e("month","M"),E("M",Ue),E("MM",Ue,He),E("MMM",Ge),E("MMMM",Ge),O(["M","MM"],function(e,t){t[Xe]=g(e)-1}),O(["MMM","MMMM"],function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[Xe]=o:D(n).invalidMonth=e});var at="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st={};y.suppressDeprecationWarnings=!1;var lt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ct=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ut=/^\/?Date\((\-?\d+)/i;y.createFromInputFallback=H("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),S(0,["YY",2],0,function(){return this.year()%100}),S(0,["YYYY",4],0,"year"),S(0,["YYYYY",5],0,"year"),S(0,["YYYYYY",6,!0],0,"year"),e("year","y"),E("Y",Ke),E("YY",Ue,He),E("YYYY",qe,Be),E("YYYYY",We,je),E("YYYYYY",We,je),O(["YYYY","YYYYY","YYYYYY"],Je),O("YY",function(e,t){t[Je]=y.parseTwoDigitYear(e)});var ht=t("FullYear",!(y.parseTwoDigitYear=function(e){return g(e)+(68<g(e)?1900:2e3)}));S("w",["ww",2],"wo","week"),S("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),E("w",Ue),E("ww",Ue,He),E("W",Ue),E("WW",Ue,He),I(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});S("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),E("DDD",ze),E("DDDD",Re),O(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),y.ISO_8601=function(){};var pt=H("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Z.apply(null,arguments);return e<this?this:e}),ft=H("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Z.apply(null,arguments);return this<e?this:e});ee("Z",":"),ee("ZZ",""),E("Z",Ve),E("ZZ",Ve),O(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=te(e)});var mt=/([\+\-]|\d\d)/gi;y.updateOffset=function(){};var gt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;ae.fn=J.prototype;var yt=le(1,"add"),bt=le(-1,"subtract");y.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var wt=H("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});S(0,["gg",2],0,function(){return this.weekYear()%100}),S(0,["GG",2],0,function(){return this.isoWeekYear()%100}),fe("gggg","weekYear"),fe("ggggg","weekYear"),fe("GGGG","isoWeekYear"),fe("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),E("G",Ke),E("g",Ke),E("GG",Ue,He),E("gg",Ue,He),E("GGGG",qe,Be),E("gggg",qe,Be),E("GGGGG",We,je),E("ggggg",We,je),I(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),I(["gg","GG"],function(e,t,n,i){t[i]=y.parseTwoDigitYear(e)}),S("Q",0,0,"quarter"),e("quarter","Q"),E("Q",Fe),O("Q",function(e,t){t[Xe]=3*(g(e)-1)}),S("D",["DD",2],"Do","date"),e("date","D"),E("D",Ue),E("DD",Ue,He),E("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),O(["D","DD"],et),O("Do",function(e,t){t[et]=g(e.match(Ue)[0])});var Ct=t("Date",!0);S("d",0,"do","day"),S("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),S("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),S("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),S("e",0,0,"weekday"),S("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),E("d",Ue),E("e",Ue),E("E",Ue),E("dd",Ge),E("ddd",Ge),E("dddd",Ge),I(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:D(n).invalidWeekday=e}),I(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var kt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");S("H",["HH",2],0,"hour"),S("h",["hh",2],0,function(){return this.hours()%12||12}),ge("a",!0),ge("A",!1),e("hour","h"),E("a",ve),E("A",ve),E("H",Ue),E("h",Ue),E("HH",Ue,He),E("hh",Ue,He),O(["H","HH"],tt),O(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),O(["h","hh"],function(e,t,n){t[tt]=g(e),D(n).bigHour=!0});var _t=t("Hours",!0);S("m",["mm",2],0,"minute"),e("minute","m"),E("m",Ue),E("mm",Ue,He),O(["m","mm"],nt);var Tt=t("Minutes",!1);S("s",["ss",2],0,"second"),e("second","s"),E("s",Ue),E("ss",Ue,He),O(["s","ss"],it);var Mt=t("Seconds",!1);S("S",0,0,function(){return~~(this.millisecond()/100)}),S(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ye("SSS"),ye("SSSS"),e("millisecond","ms"),E("S",ze,Fe),E("SS",ze,He),E("SSS",ze,Re),E("SSSS",/\d+/),O(["S","SS","SSS","SSSS"],function(e,t){t[ot]=g(1e3*("0."+e))});var St=t("Milliseconds",!1);S("z",0,0,"zoneAbbr"),S("zz",0,0,"zoneName");var At=f.prototype;At.add=yt,At.calendar=function(e){var t=e||Z(),n=ne(t,this).startOf("day"),i=this.diff(n,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Z(t)))},At.clone=function(){return new f(this)},At.diff=function(e,t,n){var i,o,a,r,s,l,d,c,u=ne(e,this),h=6e4*(u.utcOffset()-this.utcOffset());return"year"===(t=k(t))||"month"===t||"quarter"===t?(a=this,d=12*((r=u).year()-a.year())+(r.month()-a.month()),c=a.clone().add(d,"months"),r-c<0?(s=a.clone().add(d-1,"months"),l=(r-c)/(c-s)):(s=a.clone().add(d+1,"months"),l=(r-c)/(s-c)),o=-(d+l),"quarter"===t?o/=3:"year"===t&&(o/=12)):(i=this-u,o="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-h)/864e5:"week"===t?(i-h)/6048e5:i),n?o:ce(o)},At.endOf=function(e){return void 0===(e=k(e))||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},At.format=function(e){var t=A(this,e||y.defaultFormat);return this.localeData().postformat(t)},At.from=function(e,t){return this.isValid()?ae({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},At.fromNow=function(e){return this.from(Z(),e)},At.to=function(e,t){return this.isValid()?ae({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},At.toNow=function(e){return this.to(Z(),e)},At.get=a,At.invalidAt=function(){return D(this).overflow},At.isAfter=function(e,t){return"millisecond"===(t=k(void 0!==t?t:"millisecond"))?+(e=m(e)?e:Z(e))<+this:(m(e)?+e:+Z(e))<+this.clone().startOf(t)},At.isBefore=function(e,t){var n;return"millisecond"===(t=k(void 0!==t?t:"millisecond"))?+this<+(e=m(e)?e:Z(e)):(n=m(e)?+e:+Z(e),+this.clone().endOf(t)<n)},At.isBetween=function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},At.isSame=function(e,t){var n;return"millisecond"===(t=k(t||"millisecond"))?+this==+(e=m(e)?e:Z(e)):(n=+Z(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},At.isValid=function(){return u(this)},At.lang=wt,At.locale=he,At.localeData=pe,At.max=ft,At.min=pt,At.parsingFlags=function(){return c({},D(this))},At.set=a,At.startOf=function(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},At.subtract=bt,At.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},At.toDate=function(){return this._offset?new Date(+this):this._d},At.toISOString=ue,At.toJSON=ue,At.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},At.unix=function(){return Math.floor(+this/1e3)},At.valueOf=function(){return+this._d-6e4*(this._offset||0)},At.year=ht,At.isLeapYear=function(){return U(this.year())},At.weekYear=function(e){var t=z(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},At.isoWeekYear=function(e){var t=z(this,1,4).year;return null==e?t:this.add(e-t,"y")},At.quarter=At.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},At.month=$,At.daysInMonth=function(){return N(this.year(),this.month())},At.week=At.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},At.isoWeek=At.isoWeeks=function(e){var t=z(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},At.weeksInYear=function(){var e=this.localeData()._week;return me(this.year(),e.dow,e.doy)},At.isoWeeksInYear=function(){return me(this.year(),1,4)},At.date=Ct,At.day=At.days=function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}(e,this.localeData()),this.add(e-t,"d")):t},At.weekday=function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},At.isoWeekday=function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},At.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},At.hour=At.hours=_t,At.minute=At.minutes=Tt,At.second=At.seconds=Mt,At.millisecond=At.milliseconds=St,At.utcOffset=function(e,t){var n,i=this._offset||0;return null!=e?("string"==typeof e&&(e=te(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(n=ie(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?de(this,ae(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,y.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:ie(this)},At.utc=function(e){return this.utcOffset(0,e)},At.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ie(this),"m")),this},At.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(te(this._i)),this},At.hasAlignedHourOffset=function(e){return e=e?Z(e).utcOffset():0,(this.utcOffset()-e)%60==0},At.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},At.isDSTShifted=function(){if(this._a){var e=this._isUTC?r(this._a):Z(this._a);return this.isValid()&&0<s(this._a,e.toArray())}return!1},At.isLocal=function(){return!this._isUTC},At.isUtcOffset=function(){return this._isUTC},At.isUtc=oe,At.isUTC=oe,At.zoneAbbr=function(){return this._isUTC?"UTC":""},At.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},At.dates=H("dates accessor is deprecated. Use date instead.",Ct),At.months=H("months accessor is deprecated. Use month instead",$),At.years=H("years accessor is deprecated. Use year instead",ht),At.zone=H("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()});var Pt=At,Et=n.prototype;Et._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Et.calendar=function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i},Et._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Et.longDateFormat=function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},Et._invalidDate="Invalid date",Et.invalidDate=function(){return this._invalidDate},Et._ordinal="%d",Et.ordinal=function(e){return this._ordinal.replace("%d",e)},Et._ordinalParse=/\d{1,2}/,Et.preparse=be,Et.postformat=be,Et._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Et.relativeTime=function(e,t,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,i):o.replace(/%d/i,e)},Et.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},Et.set=function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Et.months=function(e){return this._months[e.month()]},Et._months=at,Et.monthsShort=function(e){return this._monthsShort[e.month()]},Et._monthsShort=rt,Et.monthsParse=function(e,t,n){var i,o,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=r([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Et.week=function(e){return z(e,this._week.dow,this._week.doy).week},Et._week={dow:0,doy:6},Et.firstDayOfYear=function(){return this._week.doy},Et.firstDayOfWeek=function(){return this._week.dow},Et.weekdays=function(e){return this._weekdays[e.day()]},Et._weekdays=kt,Et.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},Et._weekdaysMin=xt,Et.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},Et._weekdaysShort=Dt,Et.weekdaysParse=function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=Z([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},Et.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Et._meridiemParse=/[ap]\.?m?\.?/i,Et.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},i("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),y.lang=H("moment.lang is deprecated. Use moment.locale instead.",i),y.langData=H("moment.langData is deprecated. Use moment.localeData instead.",C);var Ot=Math.abs,It=_e("ms"),Nt=_e("s"),Lt=_e("m"),$t=_e("h"),Yt=_e("d"),Ft=_e("w"),Ht=_e("M"),Rt=_e("y"),Bt=Te("milliseconds"),jt=Te("seconds"),Ut=Te("minutes"),zt=Te("hours"),qt=Te("days"),Wt=Te("months"),Kt=Te("years"),Vt=Math.round,Gt={s:45,m:45,h:22,d:26,M:11},Zt=Math.abs,Qt=J.prototype;return Qt.abs=function(){var e=this._data;return this._milliseconds=Ot(this._milliseconds),this._days=Ot(this._days),this._months=Ot(this._months),e.milliseconds=Ot(e.milliseconds),e.seconds=Ot(e.seconds),e.minutes=Ot(e.minutes),e.hours=Ot(e.hours),e.months=Ot(e.months),e.years=Ot(e.years),this},Qt.add=function(e,t){return ke(this,e,t,1)},Qt.subtract=function(e,t){return ke(this,e,t,-1)},Qt.as=function(e){var t,n,i=this._milliseconds;if("month"===(e=k(e))||"year"===e)return t=this._days+i/864e5,n=this._months+12*De(t),"month"===e?n:n/12;switch(t=this._days+Math.round(xe(this._months/12)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Qt.asMilliseconds=It,Qt.asSeconds=Nt,Qt.asMinutes=Lt,Qt.asHours=$t,Qt.asDays=Yt,Qt.asWeeks=Ft,Qt.asMonths=Ht,Qt.asYears=Rt,Qt.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},Qt._bubble=function(){var e,t,n,i=this._milliseconds,o=this._days,a=this._months,r=this._data,s=0;return r.milliseconds=i%1e3,e=ce(i/1e3),r.seconds=e%60,t=ce(e/60),r.minutes=t%60,n=ce(t/60),r.hours=n%24,o+=ce(n/24),a+=ce((o-=ce(xe(s=ce(De(o)))))/30),o%=30,s+=ce(a/12),a%=12,r.days=o,r.months=a,r.years=s,this},Qt.get=function(e){return this[(e=k(e))+"s"]()},Qt.milliseconds=Bt,Qt.seconds=jt,Qt.minutes=Ut,Qt.hours=zt,Qt.days=qt,Qt.weeks=function(){return ce(this.days()/7)},Qt.months=Wt,Qt.years=Kt,Qt.humanize=function(e){var t,n,i,o,a,r,s,l,d,c,u,h=this.localeData(),p=(n=!e,i=h,o=ae(t=this).abs(),a=Vt(o.as("s")),r=Vt(o.as("m")),s=Vt(o.as("h")),l=Vt(o.as("d")),d=Vt(o.as("M")),c=Vt(o.as("y")),(u=a<Gt.s&&["s",a]||1===r&&["m"]||r<Gt.m&&["mm",r]||1===s&&["h"]||s<Gt.h&&["hh",s]||1===l&&["d"]||l<Gt.d&&["dd",l]||1===d&&["M"]||d<Gt.M&&["MM",d]||1===c&&["y"]||["yy",c])[2]=n,u[3]=0<+t,u[4]=i,function(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}.apply(null,u));return e&&(p=h.pastFuture(+this,p)),h.postformat(p)},Qt.toISOString=Me,Qt.toString=Me,Qt.toJSON=Me,Qt.locale=he,Qt.localeData=pe,Qt.toIsoString=H("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Me),Qt.lang=wt,S("X",0,0,"unix"),S("x",0,0,"valueOf"),E("x",Ke),E("X",/[+-]?\d+(\.\d{1,3})?/),O("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),O("x",function(e,t,n){n._d=new Date(g(e))}),y.version="2.10.3",Se=Z,y.fn=Pt,y.min=function(){return Q("isBefore",[].slice.call(arguments,0))},y.max=function(){return Q("isAfter",[].slice.call(arguments,0))},y.utc=r,y.unix=function(e){return Z(1e3*e)},y.months=function(e,t){return Ce(e,t,"months",12,"month")},y.isDate=d,y.locale=i,y.invalid=h,y.duration=ae,y.isMoment=m,y.weekdays=function(e,t){return Ce(e,t,"weekdays",7,"day")},y.parseZone=function(){return Z.apply(null,arguments).parseZone()},y.localeData=C,y.isDuration=X,y.monthsShort=function(e,t){return Ce(e,t,"monthsShort",12,"month")},y.weekdaysMin=function(e,t){return Ce(e,t,"weekdaysMin",7,"day")},y.defineLocale=o,y.weekdaysShort=function(e,t){return Ce(e,t,"weekdaysShort",7,"day")},y.normalizeUnits=k,y.relativeTimeThreshold=function(e,t){return void 0!==Gt[e]&&(void 0===t?Gt[e]:(Gt[e]=t,!0))},y}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(M){Array.prototype.reduce||(Array.prototype.reduce=function(e){var t,n=Object(this),i=n.length>>>0,o=0;if(2===arguments.length)t=arguments[1];else{for(;o<i&&!(o in n);)o++;if(i<=o)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;o<i;o++)o in n&&(t=e(t,n[o],o,n));return t}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=Object(this),n=t.length>>>0,i=[],o=2<=arguments.length?arguments[1]:void 0,a=0;a<n;a++)if(a in t){var r=t[a];e.call(o,r,a,t)&&i.push(r)}return i}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,i,o;if(null===this)throw new TypeError(" this is null or not defined");var a=Object(this),r=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),i=new Array(r),o=0;o<r;){var s,l;o in a&&(s=a[o],l=e.call(n,s,o,a),i[o]=l),o++}return i});var e,t="function"==typeof define&&define.amd,n=navigator.userAgent,i=/MSIE|Trident/i.test(n);if(i){var o=/MSIE (\d+[.]\d+)/.exec(n);o&&(e=parseFloat(o[1])),(o=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(n))&&(e=parseFloat(o[1]))}var u,a,h,l,p,r,s,d,c,f,m,g,v,y,b,w,C,k,D,x,_,T,S,A,P,E,O,I,N,L,$,Y,F,H,R,B,j,U,z,q,W,K,V,G,Z,Q,J,X,ee,te,ne,ie,oe={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:i,isFF:/firefox/i.test(n),isWebkit:/webkit/i.test(n),isSafari:/safari/i.test(n),browserVersion:e,jqueryVersion:parseFloat(M.fn.jquery),isSupportAmd:t,hasCodeMirror:t?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=M("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",t).width(),o=n.css("fontFamily",e+","+t).width();return n.remove(),i!==o},isW3CRangeSupport:!!document.createRange},ae=(ie=0,{eq:function(t){return function(e){return t===e}},eq2:function(e,t){return e===t},peq2:function(n){return function(e,t){return e[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(t,n){return function(e){return t(e)&&n(e)}},uniqueId:function(e){var t=++ie+"";return e?e+t:t},rect2bnd:function(e){var t=M(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")}}),re=(te=function(e,t){return M.inArray(t,e)},{head:J=function(e){return e[0]},last:X=function(e){return e[e.length-1]},initial:function(e){return e.slice(0,e.length-1)},tail:ee=function(e){return e.slice(1)},prev:function(e,t){var n=te(e,t);return-1===n?null:e[n-1]},next:function(e,t){var n=te(e,t);return-1===n?null:e[n+1]},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:ne=function(e,t){return-1!==te(e,t)},all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,n){return n=n||ae.self,e.reduce(function(e,t){return e+n(t)},0)},from:function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=e[n];return t},clusterBy:function(e,i){return e.length?ee(e).reduce(function(e,t){var n=X(e);return i(X(n),t)?n[n.length]=t:e[e.length]=[t],e},[[J(e)]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)ne(t,e[n])||t.push(e[n]);return t}}),se=String.fromCharCode(160),le=(r=function(e){return e&&M(e).hasClass("note-editable")},s=function(n){var e;if(n.hasClass("note-air-editor")){var t=re.last(n.attr("id").split("-"));return{editor:function(){return n},holder:function(){return n.data("holder")},editable:function(){return n},popover:(e=function(e){return function(){return M(e+t)}})("#note-popover-"),handle:e("#note-handle-"),dialog:e("#note-dialog-")}}e=function(e,t){return t=t||n,function(){return t.find(e)}};var i=n.data("options"),o=i&&i.dialogsInBody?M(document.body):null;return{editor:function(){return n},holder:function(){return n.data("holder")},dropzone:e(".note-dropzone"),toolbar:e(".note-toolbar"),editable:e(".note-editable"),codable:e(".note-codable"),statusbar:e(".note-statusbar"),popover:e(".note-popover"),handle:e(".note-handle"),dialog:e(".note-dialog",o)}},c=function(e){return e&&3===e.nodeType},f=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},m=function(e){return!r(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))},g=(d=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}})("LI"),v=d("TABLE"),y=function(e){return!(D(e)||b(e)||w(e)||m(e)||v(e)||k(e))},b=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},w=d("HR"),C=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},k=d("BLOCKQUOTE"),D=function(e){return C(e)||k(e)||r(e)},x=d("A"),_=d("BODY"),T=oe.isMSIE&&oe.browserVersion<11?"&nbsp;":"<br>",S=function(e){return c(e)?e.nodeValue.length:e.childNodes.length},A=function(e){var t=S(e);return 0===t||(!c(e)&&1===t&&e.innerHTML===T||!(!re.all(e.childNodes,c)||""!==e.innerHTML))},P=function(e){f(e)||S(e)||(e.innerHTML=T)},E=function(e,t){for(;e;){if(t(e))return e;if(r(e))break;e=e.parentNode}return null},O=function(e,t){t=t||ae.fail;var n=[];return E(e,function(e){return r(e)||n.push(e),t(e)}),n},I=function(e,t){t=t||ae.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},N=function(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e},L=function(n,e){return M.each(e,function(e,t){n.appendChild(t)}),n},$=function(e){return 0===e.offset},Y=function(e){return e.offset===S(e.node)},F=function(e){return $(e)||Y(e)},H=function(e,t){for(;e&&e!==t;){if(0!==B(e))return!1;e=e.parentNode}return!0},R=function(e,t){for(;e&&e!==t;){if(B(e)!==S(e.parentNode)-1)return!1;e=e.parentNode}return!0},B=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},j=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},U=function(e,t){var n,i;if(0===e.offset){if(r(e.node))return null;n=e.node.parentNode,i=B(e.node)}else j(e.node)?(n=e.node.childNodes[e.offset-1],i=S(n)):(n=e.node,i=t?0:e.offset-1);return{node:n,offset:i}},z=function(e,t){var n,i;if(S(e.node)===e.offset){if(r(e.node))return null;n=e.node.parentNode,i=B(e.node)+1}else j(e.node)?(n=e.node.childNodes[e.offset],i=0):(n=e.node,i=t?S(e.node):e.offset+1);return{node:n,offset:i}},q=function(e,t){return e.node===t.node&&e.offset===t.offset},W=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint;if(F(e)&&(c(e.node)||i)){if($(e))return e.node;if(Y(e))return e.node.nextSibling}if(c(e.node))return e.node.splitText(e.offset);var o=e.node.childNodes[e.offset],a=N(e.node.cloneNode(!1),e.node);return L(a,I(o)),n||(P(e.node),P(a)),a},K=function(e,n,i){var t=O(n.node,ae.eq(e));return t.length?1===t.length?W(n,i):t.reduce(function(e,t){return e===n.node&&(e=W(n,i)),W({node:t,offset:e?le.position(e):S(t)},i)}):null},V=function(e){return document.createElement(e)},G=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var i,o,a=[];for(i=0,o=e.childNodes.length;i<o;i++)a.push(e.childNodes[i]);for(i=0,o=a.length;i<o;i++)n.insertBefore(a[i],e)}n.removeChild(e)}},Z=d("TEXTAREA"),Q=function(e,t){var n=Z(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},{NBSP_CHAR:se,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:T,emptyPara:"<p>"+T+"</p>",makePredByNodeName:d,isEditable:r,isControlSizing:function(e){return e&&M(e).hasClass("note-control-sizing")},buildLayoutInfo:s,makeLayoutInfo:function(e){var t,n=M(e).closest(".note-editor, .note-air-editor, .note-air-layout");return n.length?(t=n.is(".note-editor, .note-air-editor")?n:M("#note-editor-"+re.last(n.attr("id").split("-"))),s(t)):null},isText:c,isVoid:f,isPara:m,isPurePara:function(e){return m(e)&&!g(e)},isInline:y,isBlock:ae.not(y),isBodyInline:function(e){return y(e)&&!E(e,m)},isBody:_,isParaInline:function(e){return y(e)&&!!E(e,m)},isList:b,isTable:v,isCell:C,isBlockquote:k,isBodyContainer:D,isAnchor:x,isDiv:d("DIV"),isLi:g,isBR:d("BR"),isSpan:d("SPAN"),isB:d("B"),isU:d("U"),isS:d("S"),isI:d("I"),isImg:d("IMG"),isTextarea:Z,isEmpty:A,isEmptyAnchor:ae.and(x,A),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||ae.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:S,isLeftEdgePoint:$,isRightEdgePoint:Y,isEdgePoint:F,isLeftEdgeOf:H,isRightEdgeOf:R,isLeftEdgePointOf:function(e,t){return $(e)&&H(e.node,t)},isRightEdgePointOf:function(e,t){return Y(e)&&R(e.node,t)},prevPoint:U,nextPoint:z,isSamePoint:q,isVisiblePoint:function(e){if(c(e.node)||!j(e.node)||A(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!f(t)||n&&!f(n))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=U(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=z(e)}return null},isCharPoint:function(e){if(!c(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==se},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!q(o,t));){var a=i&&e.node!==o.node&&t.node!==o.node;o=z(o,a)}},ancestor:E,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===S(e);){if(t(e))return e;if(r(e))break;e=e.parentNode}return null},listAncestor:O,lastAncestor:function(e,t){var n=O(e);return re.last(n.filter(t))},listNext:I,listPrev:function(e,t){t=t||ae.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(o,a){var r=[];return a=a||ae.ok,function e(t){o!==t&&a(t)&&r.push(t);for(var n=0,i=t.childNodes.length;n<i;n++)e(t.childNodes[n])}(o),r},commonAncestor:function(e,t){for(var n=O(e),i=t;i;i=i.parentNode)if(-1<M.inArray(i,n))return i;return null},wrap:function(e,t){var n=e.parentNode,i=M("<"+t+">")[0];return n.insertBefore(i,e),i.appendChild(e),i},insertAfter:N,appendChildNodes:L,position:B,hasChildren:j,makeOffsetPath:function(e,t){return O(t,ae.eq(e)).map(B).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:K,splitPoint:function(e,t){var n,i,o=t?m:D,a=O(e.node,o),r=re.last(a)||e.node;o(r)?(n=a[a.length-2],i=r):i=(n=r).parentNode;var s=n&&K(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||i!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:i}},create:V,createText:function(e){return document.createTextNode(e)},remove:G,removeWhile:function(e,t){for(;e&&!r(e)&&t(e);){var n=e.parentNode;G(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=V(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),L(n,re.from(e.childNodes)),N(n,e),G(e),n},html:function(e,t){var n=Q(e);return t&&(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||o?"\n":"")}),n=M.trim(n)),n},value:Q}),de=(h=function(e,t){var n,i,o=e.parentElement(),a=document.body.createTextRange(),r=re.from(o.childNodes);for(n=0;n<r.length;n++)if(!le.isText(r[n])){if(a.moveToElementText(r[n]),0<=a.compareEndPoints("StartToStart",e))break;i=r[n]}if(0!==n&&le.isText(r[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(i||o),s.collapse(!i),l=i?i.nextSibling:o.firstChild;var d=e.duplicate();d.setEndPoint("StartToStart",s);for(var c=d.text.replace(/[\r\n]/g,"").length;c>l.nodeValue.length&&l.nextSibling;)c-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&le.isText(l.nextSibling)&&c===l.nodeValue.length&&(c-=l.nodeValue.length,l=l.nextSibling),o=l,n=c}return{cont:o,offset:n}},l=function(e){var r=function(e,t){var n,i;if(le.isText(e)){var o=le.listPrev(e,ae.not(le.isText)),a=re.last(o).previousSibling;n=a||e.parentNode,t+=re.sum(re.tail(o),le.nodeLength),i=!a}else{if(n=e.childNodes[t]||e,le.isText(n))return r(n,0);t=0,i=!1}return{node:n,collapseToStart:i,offset:t}},t=document.body.createTextRange(),n=r(e.node,e.offset);return t.moveToElementText(n.node),t.collapse(n.collapseToStart),t.moveStart("character",n.offset),t},p=function(a,o,r,s){this.sc=a,this.so=o,this.ec=r,this.eo=s;var n=function(){if(oe.isW3CRangeSupport){var e=document.createRange();return e.setStart(a,o),e.setEnd(r,s),e}var t=l({node:a,offset:o});return t.setEndPoint("EndToEnd",l({node:r,offset:s})),t};this.getPoints=function(){return{sc:a,so:o,ec:r,eo:s}},this.getStartPoint=function(){return{node:a,offset:o}},this.getEndPoint=function(){return{node:r,offset:s}},this.select=function(){var e=n();if(oe.isW3CRangeSupport){var t=document.getSelection();0<t.rangeCount&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.normalize=function(){var e=function(e,t){if(le.isVisiblePoint(e)&&!le.isEdgePoint(e)||le.isVisiblePoint(e)&&le.isRightEdgePoint(e)&&!t||le.isVisiblePoint(e)&&le.isLeftEdgePoint(e)&&t||le.isVisiblePoint(e)&&le.isBlock(e.node)&&le.isEmpty(e.node))return e;var n=le.ancestor(e.node,le.isBlock);if((le.isLeftEdgePointOf(e,n)||le.isVoid(le.prevPoint(e).node))&&!t||(le.isRightEdgePointOf(e,n)||le.isVoid(le.nextPoint(e).node))&&t){if(le.isVisiblePoint(e))return e;t=!t}return(t?le.nextPointUntil(le.nextPoint(e),le.isVisiblePoint):le.prevPointUntil(le.prevPoint(e),le.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),n=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new p(n.node,n.offset,t.node,t.offset)},this.nodes=function(n,e){n=n||ae.ok;var i=e&&e.includeAncestor,o=e&&e.fullyContains,t=this.getStartPoint(),a=this.getEndPoint(),r=[],s=[];return le.walkPoint(t,a,function(e){var t;le.isEditable(e.node)||(o?(le.isLeftEdgePoint(e)&&s.push(e.node),le.isRightEdgePoint(e)&&re.contains(s,e.node)&&(t=e.node)):t=i?le.ancestor(e.node,n):e.node,t&&n(t)&&r.push(t))},!0),re.unique(r)},this.commonAncestor=function(){return le.commonAncestor(a,r)},this.expand=function(e){var t=le.ancestor(a,e),n=le.ancestor(r,e);if(!t&&!n)return new p(a,o,r,s);var i=this.getPoints();return t&&(i.sc=t,i.so=0),n&&(i.ec=n,i.eo=le.nodeLength(n)),new p(i.sc,i.so,i.ec,i.eo)},this.collapse=function(e){return e?new p(a,o,a,o):new p(r,s,r,s)},this.splitText=function(){var e=a===r,t=this.getPoints();return le.isText(r)&&!le.isEdgePoint(this.getEndPoint())&&r.splitText(s),le.isText(a)&&!le.isEdgePoint(this.getStartPoint())&&(t.sc=a.splitText(o),t.so=0,e&&(t.ec=t.sc,t.eo=s-o)),new p(t.sc,t.so,t.ec,t.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=le.prevPointUntil(e.getStartPoint(),function(e){return!re.contains(t,e.node)}),o=[];return M.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===le.nodeLength(n)&&o.push(n),le.remove(t,!1)}),M.each(o,function(e,t){le.remove(t,!1)}),new p(i.node,i.offset,i.node,i.offset).normalize()};var e=function(t){return function(){var e=le.ancestor(a,t);return!!e&&e===le.ancestor(r,t)}};this.isOnEditable=e(le.isEditable),this.isOnList=e(le.isList),this.isOnAnchor=e(le.isAnchor),this.isOnCell=e(le.isCell),this.isLeftEdgeOf=function(e){if(!le.isLeftEdgePoint(this.getStartPoint()))return!1;var t=le.ancestor(this.sc,e);return t&&le.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return a===r&&o===s},this.wrapBodyInlineWithPara=function(){if(le.isBodyContainer(a)&&le.isEmpty(a))return a.innerHTML=le.emptyPara,new p(a.firstChild,0,a.firstChild,0);var e,t=this.normalize();if(le.isParaInline(a)||le.isPara(a))return t;if(le.isInline(t.sc)){var n=le.listAncestor(t.sc,ae.not(le.isInline));e=re.last(n),le.isInline(e)||(e=n[n.length-2]||t.sc.childNodes[t.so])}else e=t.sc.childNodes[0<t.so?t.so-1:0];var i=le.listPrev(e,le.isParaInline).reverse();if((i=i.concat(le.listNext(e.nextSibling,le.isParaInline))).length){var o=le.wrap(re.head(i),"p");le.appendChildNodes(o,re.tail(i))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=le.splitPoint(t.getStartPoint(),le.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(e){var t=M("<div></div>").html(e)[0],n=re.from(t.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(e){return i.insertNode(e)}).reverse()},this.toString=function(){var e=n();return oe.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!le.isCharPoint(t))return this;var n=le.prevPointUntil(t,function(e){return!le.isCharPoint(e)});return e&&(t=le.nextPointUntil(t,function(e){return!le.isCharPoint(e)})),new p(n.node,n.offset,t.node,t.offset)},this.bookmark=function(e){return{s:{path:le.makeOffsetPath(e,a),offset:o},e:{path:le.makeOffsetPath(e,r),offset:s}}},this.paraBookmark=function(e){return{s:{path:re.tail(le.makeOffsetPath(re.head(e),a)),offset:o},e:{path:re.tail(le.makeOffsetPath(re.last(e),r)),offset:s}}},this.getClientRects=function(){return n().getClientRects()}},{create:function(e,t,n,i){if(arguments.length)2===arguments.length&&(n=e,i=t);else if(oe.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(le.isBody(o.anchorNode))return null;var a=o.getRangeAt(0);e=a.startContainer,t=a.startOffset,n=a.endContainer,i=a.endOffset}else{var r=document.selection.createRange(),s=r.duplicate();s.collapse(!1);var l=r;l.collapse(!0);var d=h(l,!0),c=h(s,!1);le.isText(d.node)&&le.isLeftEdgePoint(d)&&le.isTextNode(c.node)&&le.isRightEdgePoint(c)&&c.node.nextSibling===d.node&&(d=c),e=d.cont,t=d.offset,n=c.cont,i=c.offset}return new p(e,t,n,i)},createFromNode:function(e){var t=e,n=0,i=e,o=le.nodeLength(i);return le.isVoid(t)&&(n=le.listPrev(t).length-1,t=t.parentNode),le.isBR(i)?(o=le.listPrev(i).length-1,i=i.parentNode):le.isVoid(i)&&(o=le.listPrev(i).length,i=i.parentNode),this.create(t,n,i,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=le.fromOffsetPath(e,t.s.path),i=t.s.offset,o=le.fromOffsetPath(e,t.e.path),a=t.e.offset;return new p(n,i,o,a)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=le.fromOffsetPath(re.head(t),e.s.path),a=le.fromOffsetPath(re.last(t),e.e.path);return new p(o,n,a,i)}}),ce={readFileAsDataURL:function(e){return M.Deferred(function(n){M.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},createImage:function(n,i){return M.Deferred(function(e){var t=M("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr({src:n,"data-filename":i})}).promise()}},ue=(a={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},{isEdit:function(e){return re.contains([8,9,13,32],e)},isMove:function(e){return re.contains([37,38,39,40],e)},nameFromCode:ae.invertObject(a),code:a}),he=function(t){var n=[],i=-1,o=t[0],e=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&de.createFromBookmark(o,e.bookmark).select()};this.undo=function(){t.html()!==n[i].contents&&this.recordUndo(),0<i&&e(n[--i])},this.redo=function(){n.length-1>i&&e(n[++i])},this.recordUndo=function(){var e;i++,n.length>i&&(n=n.slice(0,i)),n.push((e=de.create(),{contents:t.html(),bookmark:e?e.bookmark(o):{s:{path:[],offset:0},e:{path:[],offset:0}}}))},this.recordUndo()},pe=function(){this.fromNode=function(e){var t=function(n,e){if(oe.jqueryVersion<1.9){var i={};return M.each(e,function(e,t){i[t]=n.css(t)}),i}return n.css.call(n,e)}(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return t["font-size"]=parseInt(t["font-size"],10),t},this.stylePara=function(e,n){M.each(e.nodes(le.isPara,{includeAncestor:!0}),function(e,t){M(t).css(n)})},this.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(le.create(n))];var a=le.makePredByNodeName(n),r=e.nodes(le.isText,{fullyContains:!0}).map(function(e){return le.singleChildAncestor(e,a)||le.wrap(e,n)});if(i){if(o){var s=e.nodes();a=ae.and(a,function(e){return re.contains(s,e)})}return r.map(function(e){var t=le.withClosestSiblings(e,a),n=re.head(t),i=re.tail(t);return M.each(i,function(e,t){le.appendChildNodes(n,t.childNodes),le.remove(t)}),re.head(t)})}return r},this.current=function(e){var t=M(le.isText(e.sc)?e.sc.parentNode:e.sc),n=this.fromNode(t);if(n["font-bold"]=document.queryCommandState("bold")?"bold":"normal",n["font-italic"]=document.queryCommandState("italic")?"italic":"normal",n["font-underline"]=document.queryCommandState("underline")?"underline":"normal",n["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",n["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",n["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",e.isOnList()){var i=-1<M.inArray(n["list-style-type"],["circle","disc","disc-leading-zero","square"]);n["list-style"]=i?"unordered":"ordered"}else n["list-style"]="none";var o=le.ancestor(e.sc,le.isPara);if(o&&o.style["line-height"])n["line-height"]=o.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=e.isOnAnchor()&&le.ancestor(e.sc,le.isAnchor),n.ancestors=le.listAncestor(e.sc,le.isEditable),n.range=e,n}},fe=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var i=this,e=de.create().wrapBodyInlineWithPara(),t=e.nodes(le.isPara,{includeAncestor:!0}),n=re.clusterBy(t,ae.peq2("parentNode"));M.each(n,function(e,t){var n=re.head(t);le.isLi(n)?i.wrapList(t,n.parentNode.nodeName):M.each(t,function(e,t){M(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),e.select()},this.outdent=function(){var i=this,e=de.create().wrapBodyInlineWithPara(),t=e.nodes(le.isPara,{includeAncestor:!0}),n=re.clusterBy(t,ae.peq2("parentNode"));M.each(n,function(e,t){var n=re.head(t);le.isLi(n)?i.releaseList([t]):M.each(t,function(e,t){M(t).css("marginLeft",function(e,t){return 25<(t=parseInt(t,10)||0)?t-25:""})})}),e.select()},this.toggleList=function(n){var i=this,e=de.create().wrapBodyInlineWithPara(),t=e.nodes(le.isPara,{includeAncestor:!0}),o=e.paraBookmark(t),a=re.clusterBy(t,ae.peq2("parentNode"));if(re.find(t,le.isPurePara)){var r=[];M.each(a,function(e,t){r=r.concat(i.wrapList(t,n))}),t=r}else{var s=e.nodes(le.isList,{includeAncestor:!0}).filter(function(e){return!M.nodeName(e,n)});s.length?M.each(s,function(e,t){le.replace(t,n)}):t=this.releaseList(a,!0)}de.createFromParaBookmark(o,t).select()},this.wrapList=function(e,t){var n=re.head(e),i=re.last(e),o=le.isList(n.previousSibling)&&n.previousSibling,a=le.isList(i.nextSibling)&&i.nextSibling,r=o||le.insertAfter(le.create(t||"UL"),i);return e=e.map(function(e){return le.isPurePara(e)?le.replace(e,"LI"):e}),le.appendChildNodes(r,e),a&&(le.appendChildNodes(r,re.from(a.childNodes)),le.remove(a)),e},this.releaseList=function(e,l){var d=[];return M.each(e,function(e,t){var n=re.head(t),i=re.last(t),o=l?le.lastAncestor(n,le.isList):n.parentNode,a=1<o.childNodes.length?le.splitTree(o,{node:i.parentNode,offset:le.position(i)+1},{isSkipPaddingBlankHTML:!0}):null,r=le.splitTree(o,{node:n.parentNode,offset:le.position(n)},{isSkipPaddingBlankHTML:!0});t=l?le.listDescendant(r,le.isLi):re.from(r.childNodes).filter(le.isLi),(l||!le.isList(o.parentNode))&&(t=t.map(function(e){return le.replace(e,"P")})),M.each(re.from(t).reverse(),function(e,t){le.insertAfter(t,o)});var s=re.compact([o,r,a]);M.each(s,function(e,t){var n=[t].concat(le.listDescendant(t,le.isList));M.each(n.reverse(),function(e,t){le.nodeLength(t)||le.remove(t,!0)})}),d=d.concat(t)}),d}},me=function(){var a=new fe;this.insertTab=function(e,t,n){var i=le.createText(new Array(n+1).join(le.NBSP_CHAR));(t=t.deleteContents()).insertNode(i,!0),(t=de.create(i,n)).select()},this.insertParagraph=function(){var e=de.create();e=(e=e.deleteContents()).wrapBodyInlineWithPara();var t,n=le.ancestor(e.sc,le.isPara);if(n){if(le.isEmpty(n)&&le.isLi(n))return void a.toggleList(n.parentNode.nodeName);t=le.splitTree(n,e.getStartPoint());var i=le.listDescendant(n,le.isEmptyAnchor);i=i.concat(le.listDescendant(t,le.isEmptyAnchor)),M.each(i,function(e,t){le.remove(t)})}else{var o=e.sc.childNodes[e.so];t=M(le.emptyPara)[0],o?e.sc.insertBefore(t,o):e.sc.appendChild(t)}de.create(t,0).normalize().select()}},ge=function(){this.tab=function(e,t){var n=le.ancestor(e.commonAncestor(),le.isCell),i=le.ancestor(n,le.isTable),o=le.listDescendant(i,le.isCell),a=re[t?"prev":"next"](o,n);a&&de.create(a,0).select()},this.createTable=function(e,t){for(var n,i=[],o=0;o<e;o++)i.push("<td>"+le.blank+"</td>");n=i.join("");for(var a,r=[],s=0;s<t;s++)r.push("<tr>"+n+"</tr>");return a=r.join(""),M('<table class="table table-bordered">'+a+"</table>")[0]}},ve="bogus",ye=function(i){var t=this,h=new pe,o=new ge,a=new me,n=new fe;this.createRange=function(e){return this.focus(e),de.create()},this.saveRange=function(e,t){this.focus(e),e.data("range",de.create()),t&&de.create().collapse().select()},this.saveNode=function(e){for(var t=[],n=0,i=e[0].childNodes.length;n<i;n++)t.push(e[0].childNodes[n]);e.data("childNodes",t)},this.restoreRange=function(e){var t=e.data("range");t&&(t.select(),this.focus(e))},this.restoreNode=function(e){e.html("");for(var t=e.data("childNodes"),n=0,i=t.length;n<i;n++)e[0].appendChild(t[n])},this.currentStyle=function(e){var t=de.create(),n=t&&t.isOnEditable()?h.current(t.normalize()):{};return le.isImg(e)&&(n.image=e),n},this.styleFromNode=function(e){return h.fromNode(e)};var r=function(e){var t=le.makeLayoutInfo(e).holder();i.bindCustomEvent(t,e.data("callbacks"),"before.command")(e.html(),e)},s=function(e){var t=le.makeLayoutInfo(e).holder();i.bindCustomEvent(t,e.data("callbacks"),"change")(e.html(),e)};this.undo=function(e){r(e),e.data("NoteHistory").undo(),s(e)},this.redo=function(e){r(e),e.data("NoteHistory").redo(),s(e)};for(var p=this.beforeCommand=function(e){r(e),t.focus(e)},f=this.afterCommand=function(e,t){e.data("NoteHistory").recordUndo(),t||s(e)},e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],l=0,d=e.length;l<d;l++)this[e[l]]=function(n){return function(e,t){p(e),document.execCommand(n,!1,t),f(e,!0)}}(e[l]);this.tab=function(e,t){var n=this.createRange(e);n.isCollapsed()&&n.isOnCell()?o.tab(n):(p(e),a.insertTab(e,n,t.tabsize),f(e))},this.untab=function(e){var t=this.createRange(e);t.isCollapsed()&&t.isOnCell()&&o.tab(t,!0)},this.insertParagraph=function(e){p(e),a.insertParagraph(e),f(e)},this.insertOrderedList=function(e){p(e),n.insertOrderedList(e),f(e)},this.insertUnorderedList=function(e){p(e),n.insertUnorderedList(e),f(e)},this.indent=function(e){p(e),n.indent(e),f(e)},this.outdent=function(e){p(e),n.outdent(e),f(e)},this.insertImage=function(t,e,n){ce.createImage(e,n).then(function(e){p(t),e.css({display:"",width:Math.min(t.width(),e.width())}),de.create().insertNode(e[0]),de.createFromNodeAfter(e[0]).select(),f(t)}).fail(function(){var e=le.makeLayoutInfo(t).holder();i.bindCustomEvent(e,t.data("callbacks"),"image.upload.error")()})},this.insertNode=function(e,t){p(e),de.create().insertNode(t),de.createFromNodeAfter(t).select(),f(e)},this.insertText=function(e,t){p(e);var n=de.create().insertNode(le.createText(t));de.create(n,le.nodeLength(n)).select(),f(e)},this.pasteHTML=function(e,t){p(e);var n=de.create().pasteHTML(t);de.createFromNodeAfter(re.last(n)).select(),f(e)},this.formatBlock=function(e,t){p(e),t=oe.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),f(e)},this.formatPara=function(e){p(e),this.formatBlock(e,"P"),f(e)};for(l=1;l<=6;l++)this["formatH"+l]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(l);this.fontSize=function(e,t){var n=de.create();if(n.isCollapsed()){var i=h.styleNodes(n),o=re.head(i);M(i).css({"font-size":t+"px"}),o&&!le.nodeLength(o)&&(o.innerHTML=le.ZERO_WIDTH_NBSP_CHAR,de.createFromNodeAfter(o.firstChild).select(),e.data(ve,o))}else p(e),M(h.styleNodes(n)).css({"font-size":t+"px"}),f(e)},this.insertHorizontalRule=function(e){p(e);var t=de.create().insertNode(M("<HR/>")[0]);t.nextSibling&&de.create(t.nextSibling,0).normalize().select(),f(e)},this.removeBogus=function(e){var t=e.data(ve);if(t){var n=re.find(re.from(t.childNodes),le.isText),i=n.nodeValue.indexOf(le.ZERO_WIDTH_NBSP_CHAR);-1!==i&&n.deleteData(i,1),le.isEmpty(t)&&le.remove(t),e.removeData(ve)}},this.lineHeight=function(e,t){p(e),h.stylePara(de.create(),{lineHeight:t}),f(e)},this.unlink=function(e){var t=this.createRange(e);if(t.isOnAnchor()){var n=le.ancestor(t.sc,le.isAnchor);(t=de.createFromNode(n)).select(),p(e),document.execCommand("unlink"),f(e)}},this.createLink=function(e,t,n){var i=t.url,o=t.text,a=t.isNewWindow,r=t.range||this.createRange(e),s=r.toString()!==o;n=n||le.makeLayoutInfo(e).editor().data("options"),p(e),n.onCreateLink&&(i=n.onCreateLink(i));var l=[];if(s){var d=r.insertNode(M("<A>"+o+"</A>")[0]);l.push(d)}else l=h.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});M.each(l,function(e,t){M(t).attr("href",i),a?M(t).attr("target","_blank"):M(t).removeAttr("target")});var c=de.createFromNodeBefore(re.head(l)).getStartPoint(),u=de.createFromNodeAfter(re.last(l)).getEndPoint();de.create(c.node,c.offset,u.node,u.offset).select(),f(e)},this.getLinkInfo=function(e){this.focus(e);var t=de.create().expand(le.isAnchor),n=M(re.head(t.nodes(le.isAnchor)));return{range:t,text:t.toString(),isNewWindow:!!n.length&&"_blank"===n.attr("target"),url:n.length?n.attr("href"):""}},this.color=function(e,t){var n=JSON.parse(t),i=n.foreColor,o=n.backColor;p(e),i&&document.execCommand("foreColor",!1,i),o&&document.execCommand("backColor",!1,o),f(e)},this.insertTable=function(e,t){var n=t.split("x");p(e),de.create().deleteContents().insertNode(o.createTable(n[0],n[1])),f(e)},this.floatMe=function(e,t,n){p(e),n.removeClass("pull-left pull-right"),t&&"none"!==t&&n.addClass("pull-"+t),n.css("float",t),f(e)},this.imageShape=function(e,t,n){p(e),n.removeClass("img-rounded img-circle img-thumbnail"),t&&n.addClass(t),f(e)},this.resize=function(e,t,n){p(e),n.css({width:100*t+"%",height:""}),f(e)},this.resizeTo=function(e,t,n){var i;if(n){var o=e.y/e.x,a=t.data("ratio");i={width:o<a?e.x:e.y/a,height:o<a?e.x*a:e.y}}else i={width:e.x,height:e.y};t.css(i)},this.removeMedia=function(e,t,n){p(e),n.detach(),i.bindCustomEvent(M(),e.data("callbacks"),"media.delete")(n,e),f(e)},this.focus=function(e){e.focus(),oe.isFF&&!de.create().isOnEditable()&&de.createFromNode(e[0]).normalize().collapse().select()},this.isEmpty=function(e){return le.isEmpty(e[0])||le.emptyPara===e.html()}},be=function(){this.update=function(n,e){var t=function(e,t){e.find(".dropdown-menu li a").each(function(){var e=M(this).data("value")+""==t+"";this.className=e?"checked":""})},i=function(e,t){n.find(e).toggleClass("active",t())};if(e.image){var o=M(e.image);i('button[data-event="imageShape"][data-value="img-rounded"]',function(){return o.hasClass("img-rounded")}),i('button[data-event="imageShape"][data-value="img-circle"]',function(){return o.hasClass("img-circle")}),i('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return o.hasClass("img-thumbnail")}),i('button[data-event="imageShape"]:not([data-value])',function(){return!o.is(".img-rounded, .img-circle, .img-thumbnail")});var a=o.css("float");i('button[data-event="floatMe"][data-value="left"]',function(){return"left"===a}),i('button[data-event="floatMe"][data-value="right"]',function(){return"right"===a}),i('button[data-event="floatMe"][data-value="none"]',function(){return"left"!==a&&"right"!==a});var r=o.attr("style");return i('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(r)}),i('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(r)}),void i('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(r)})}var s=n.find(".note-fontname");if(s.length){var l=e["font-family"];if(l){for(var d=l.split(","),c=0,u=d.length;c<u&&(l=d[c].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,""),!oe.isFontInstalled(l));c++);s.find(".note-current-fontname").text(l),t(s,l)}}var h=n.find(".note-fontsize");h.find(".note-current-fontsize").text(e["font-size"]),t(h,parseFloat(e["font-size"])),t(n.find(".note-height"),parseFloat(e["line-height"])),i('button[data-event="bold"]',function(){return"bold"===e["font-bold"]}),i('button[data-event="italic"]',function(){return"italic"===e["font-italic"]}),i('button[data-event="underline"]',function(){return"underline"===e["font-underline"]}),i('button[data-event="strikethrough"]',function(){return"strikethrough"===e["font-strikethrough"]}),i('button[data-event="superscript"]',function(){return"superscript"===e["font-superscript"]}),i('button[data-event="subscript"]',function(){return"subscript"===e["font-subscript"]}),i('button[data-event="justifyLeft"]',function(){return"left"===e["text-align"]||"start"===e["text-align"]}),i('button[data-event="justifyCenter"]',function(){return"center"===e["text-align"]}),i('button[data-event="justifyRight"]',function(){return"right"===e["text-align"]}),i('button[data-event="justifyFull"]',function(){return"justify"===e["text-align"]}),i('button[data-event="insertUnorderedList"]',function(){return"unordered"===e["list-style"]}),i('button[data-event="insertOrderedList"]',function(){return"ordered"===e["list-style"]})},this.updateRecentColor=function(e,t,n){var i=M(e).closest(".note-color").find(".note-recent-color"),o=JSON.parse(i.attr("data-value"));o[t]=n,i.attr("data-value",JSON.stringify(o));var a="backColor"===t?"background-color":"color";i.find("i").css(a,n)}},we=function(){var i=new be;this.update=function(e,t){i.update(e,t)},this.updateRecentColor=function(e,t,n){i.updateRecentColor(e,t,n)},this.activate=function(e){e.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(e){e.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(e,t){e.find('button[data-event="fullscreen"]').toggleClass("active",t)},this.updateCodeview=function(e,t){e.find('button[data-event="codeview"]').toggleClass("active",t),t?this.deactivate(e):this.activate(e)},this.get=function(e,t){return le.makeLayoutInfo(e).toolbar().find("[data-name="+t+"]")},this.setButtonState=function(e,t,n){n=!1!==n,this.get(e,t).toggleClass("active",n)}},Ce=function(){var t=M(document);this.attach=function(e,t){t.disableResizeEditor||e.statusbar().on("mousedown",n)};var n=function(e){e.preventDefault(),e.stopPropagation();var n=le.makeLayoutInfo(e.target).editable(),i=n.offset().top-t.scrollTop(),o=le.makeLayoutInfo(e.currentTarget||e.target).editor().data("options");t.on("mousemove",function(e){var t=e.clientY-(i+24);t=0<o.minHeight?Math.max(t,o.minHeight):t,t=0<o.maxHeight?Math.min(t,o.maxHeight):t,n.height(t)}).one("mouseup",function(){t.off("mousemove")})}},ke=function(){var u=new be,h=function(e,t){var n=t&&t.isAirMode,i=t&&t.isLeftTop,o=M(e),a=n?o.offset():o.position(),r=i?0:o.outerHeight(!0);return{left:a.left,top:a.top+r}},p=function(e,t){e.css({display:"block",left:t.left,top:t.top})};this.update=function(e,t,n){u.update(e,t);var i=e.find(".note-link-popover");if(t.anchor){var o=i.find("a"),a=M(t.anchor).attr("href"),r=M(t.anchor).attr("target");o.attr("href",a).html(a),r?o.attr("target","_blank"):o.removeAttr("target"),p(i,h(t.anchor,{isAirMode:n}))}else i.hide();var s=e.find(".note-image-popover");t.image?p(s,h(t.image,{isAirMode:n,isLeftTop:!0})):s.hide();var l=e.find(".note-air-popover");if(n&&t.range&&!t.range.isCollapsed()){var d=re.last(t.range.getClientRects());if(d){var c=ae.rect2bnd(d);p(l,{left:Math.max(c.left+c.width/2-20,0),top:c.top+c.height})}}else l.hide()},this.updateRecentColor=function(e,t,n){e.updateRecentColor(e,t,n)},this.hide=function(e){e.children().hide()}},De=function(u){var h=M(document),t=function(e){if(le.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var t=le.makeLayoutInfo(e.target),n=t.handle(),i=t.popover(),o=t.editable(),a=t.editor(),r=n.find(".note-control-selection").data("target"),s=M(r),l=s.offset(),d=h.scrollTop(),c=a.data("options").airMode;h.on("mousemove",function(e){u.invoke("editor.resizeTo",{x:e.clientX-l.left,y:e.clientY-(l.top-d)},s,!e.shiftKey),u.invoke("handle.update",n,{image:r},c),u.invoke("popover.update",i,{image:r},c)}).one("mouseup",function(){h.off("mousemove"),u.invoke("editor.afterCommand",o)}),s.data("ratio")||s.data("ratio",s.height()/s.width())}};this.attach=function(e){e.handle().on("mousedown",t)},this.update=function(e,t,n){var i=e.find(".note-control-selection");if(t.image){var o=M(t.image),a=n?o.offset():o.position(),r={w:o.outerWidth(!0),h:o.outerHeight(!0)};i.css({display:"block",left:a.left,top:a.top,width:r.w,height:r.h}).data("target",t.image);var s=r.w+"x"+r.h;i.find(".note-control-selection-info").text(s)}else i.hide()},this.hide=function(e){e.children().hide()}},xe=function(s){var l=M(window),d=M("html, body");this.toggle=function(e){var t=e.editor(),n=e.toolbar(),i=e.editable(),o=e.codable(),a=function(e){i.css("height",e.h),o.css("height",e.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,e.h)};t.toggleClass("fullscreen");var r=t.hasClass("fullscreen");r?(i.data("orgheight",i.css("height")),l.on("resize",function(){a({h:l.height()-n.outerHeight()})}).trigger("resize"),d.css("overflow","hidden")):(l.off("resize"),a({h:i.data("orgheight")}),d.css("overflow","visible")),s.invoke("toolbar.updateFullscreen",n,r)}};oe.hasCodeMirror&&(oe.isSupportAmd?require(["CodeMirror"],function(e){u=e}):u=window.CodeMirror);var _e=function(c){this.sync=function(e){c.invoke("codeview.isActivated",e)&&oe.hasCodeMirror&&e.codable().data("cmEditor").save()},this.isActivated=function(e){return e.editor().hasClass("codeview")},this.toggle=function(e){this.isActivated(e)?this.deactivate(e):this.activate(e)},this.activate=function(e){var t=e.editor(),n=e.toolbar(),i=e.editable(),o=e.codable(),a=e.popover(),r=e.handle(),s=t.data("options");if(o.val(le.html(i,s.prettifyHtml)),o.height(i.height()),c.invoke("toolbar.updateCodeview",n,!0),c.invoke("popover.hide",a),c.invoke("handle.hide",r),t.addClass("codeview"),o.focus(),oe.hasCodeMirror){var l=u.fromTextArea(o[0],s.codemirror);if(s.codemirror.tern){var d=new u.TernServer(s.codemirror.tern);l.ternServer=d,l.on("cursorActivity",function(e){d.updateArgHints(e)})}l.setSize(null,i.outerHeight()),o.data("cmEditor",l)}},this.deactivate=function(e){var t=e.holder(),n=e.editor(),i=e.toolbar(),o=e.editable(),a=e.codable(),r=n.data("options");if(oe.hasCodeMirror){var s=a.data("cmEditor");a.val(s.getValue()),s.toTextArea()}var l=le.value(a,r.prettifyHtml)||le.emptyPara,d=o.html()!==l;o.html(l),o.height(r.height?a.height():"auto"),n.removeClass("codeview"),d&&c.bindCustomEvent(t,o.data("callbacks"),"change")(o.html(),o),o.focus(),c.invoke("toolbar.updateCodeview",i,!1)}},Te=function(d){var n=M(document);this.attach=function(e,t){t.airMode||t.disableDragAndDrop?n.on("drop",function(e){e.preventDefault()}):this.attachDragAndDropEvent(e,t)},this.attachDragAndDropEvent=function(i,o){var a=M(),r=i.editor(),s=i.dropzone(),l=s.find(".note-dropzone-message");n.on("dragenter",function(e){var t=d.invoke("codeview.isActivated",i),n=0<r.width()&&0<r.height();t||a.length||!n||(r.addClass("dragover"),s.width(r.width()),s.height(r.height()),l.text(o.langInfo.image.dragImageHere)),a=a.add(e.target)}).on("dragleave",function(e){(a=a.not(e.target)).length||r.removeClass("dragover")}).on("drop",function(){a=M(),r.removeClass("dragover")}),s.on("dragenter",function(){s.addClass("hover"),l.text(o.langInfo.image.dropImage)}).on("dragleave",function(){s.removeClass("hover"),l.text(o.langInfo.image.dragImageHere)}),s.on("drop",function(e){var t=e.originalEvent.dataTransfer,n=le.makeLayoutInfo(e.currentTarget||e.target);if(t&&t.files&&t.files.length)e.preventDefault(),n.editable().focus(),d.insertImages(n,t.files);else for(var i=function(){n.holder().summernote("insertNode",this)},o=0,a=t.types.length;o<a;o++){var r=t.types[o],s=t.getData(r);-1<r.toLowerCase().indexOf("text")?n.holder().summernote("pasteHTML",s):M(s).each(i)}}).on("dragover",!1)}},Me=function(d){var c;this.attach=function(t){oe.isMSIE&&10<oe.browserVersion||oe.isFF?(c=M("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),t.editable().on("keydown",function(e){e.ctrlKey&&e.keyCode===ue.code.V&&(d.invoke("saveRange",t.editable()),c.focus(),setTimeout(function(){n(t)},0))}),t.editable().before(c)):t.editable().on("paste",e)};var n=function(e){var t=e.editable(),n=c[0].firstChild;if(le.isImg(n)){for(var i=n.src,o=atob(i.split(",")[1]),a=new Uint8Array(o.length),r=0;r<o.length;r++)a[r]=o.charCodeAt(r);var s=new Blob([a],{type:"image/png"});s.name="clipboard.png",d.invoke("restoreRange",t),d.invoke("focus",t),d.insertImages(e,[s])}else{var l=M("<div />").html(c.html()).html();d.invoke("restoreRange",t),d.invoke("focus",t),l&&d.invoke("pasteHTML",t,l)}c.empty()},e=function(e){var t=e.originalEvent.clipboardData,n=le.makeLayoutInfo(e.currentTarget||e.target),i=n.editable();if(t&&t.items&&t.items.length){var o=re.head(t.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&d.insertImages(n,[o.getAsFile()]),d.invoke("editor.afterCommand",i)}}},Se=function(s){var l=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},d=function(e,t){e.on("keypress",function(e){e.keyCode===ue.code.ENTER&&t.trigger("click")})};this.showLinkDialog=function(e,r,s){return M.Deferred(function(t){var n=r.find(".note-link-dialog"),i=n.find(".note-link-text"),o=n.find(".note-link-url"),e=n.find(".note-link-btn"),a=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){i.val(s.text),i.on("input",function(){l(e,i.val()&&o.val()),s.text=i.val()}),s.url||(s.url=s.text||"http://",l(e,s.text)),o.on("input",function(){l(e,i.val()&&o.val()),s.text||i.val(o.val())}).val(s.url).trigger("focus").trigger("select"),d(o,e),d(i,e),a.prop("checked",s.isNewWindow),e.one("click",function(e){e.preventDefault(),t.resolve({range:s.range,url:o.val(),text:i.val(),isNewWindow:a.is(":checked")}),n.modal("hide")})}).one("hidden.bs.modal",function(){i.off("input keypress"),o.off("input keypress"),e.off("click"),"pending"===t.state()&&t.reject()}).modal("show")}).promise()},this.show=function(e){var t=e.editor(),n=e.dialog(),i=e.editable(),o=e.popover(),a=s.invoke("editor.getLinkInfo",i),r=t.data("options");s.invoke("editor.saveRange",i),this.showLinkDialog(i,n,a).then(function(e){s.invoke("editor.restoreRange",i),s.invoke("editor.createLink",i,e,r),s.invoke("popover.hide",o)}).fail(function(){s.invoke("editor.restoreRange",i)})}},Ae=function(i){this.show=function(t){var e=t.dialog(),n=t.editable();i.invoke("editor.saveRange",n),this.showImageDialog(n,e).then(function(e){i.invoke("editor.restoreRange",n),"string"==typeof e?i.invoke("editor.insertImage",n,e):i.insertImages(t,e)}).fail(function(){i.invoke("editor.restoreRange",n)})},this.showImageDialog=function(e,t){return M.Deferred(function(n){var i=t.find(".note-image-dialog"),e=t.find(".note-image-input"),o=t.find(".note-image-url"),a=t.find(".note-image-btn");i.one("shown.bs.modal",function(){var t;e.replaceWith(e.clone().on("change",function(){n.resolve(this.files||this.value),i.modal("hide")}).val("")),a.click(function(e){e.preventDefault(),n.resolve(o.val()),i.modal("hide")}),o.on("keyup paste",function(e){var t,n,i;t="paste"===e.type?e.originalEvent.clipboardData.getData("text"):o.val(),i=t,(n=a).toggleClass("disabled",!i),n.attr("disabled",!i)}).val("").trigger("focus"),t=a,o.on("keypress",function(e){e.keyCode===ue.code.ENTER&&t.trigger("click")})}).one("hidden.bs.modal",function(){e.off("change"),o.off("keyup paste keypress"),a.off("click"),"pending"===n.state()&&n.reject()}).modal("show")})}},Pe=function(i){this.showHelpDialog=function(e,t){return M.Deferred(function(e){t.find(".note-help-dialog").one("hidden.bs.modal",function(){e.resolve()}).modal("show")}).promise()},this.show=function(e){var t=e.dialog(),n=e.editable();i.invoke("editor.saveRange",n,!0),this.showHelpDialog(n,t).then(function(){i.invoke("editor.restoreRange",n)})}};M.summernote=M.summernote||{},M.extend(M.summernote,{version:"0.6.16",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,disableResizeImage:!1,shortcuts:!0,textareaAutoSync:!0,placeholder:!1,prettifyHtml:!0,iconPrefix:"fa fa-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic"},lists:{unordered:"list-ul",ordered:"list-ol"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(e){return-1!==e.indexOf("@")&&-1===e.indexOf(":")&&(e="mailto:"+e),e},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}});var Ee=new function(){var v=function(e,t){var n=t.event,i=t.value,o=t.title,a=t.className,r=t.dropdown,s=t.hide;return(r?'<div class="btn-group'+(a?" "+a:"")+'">':"")+'<button type="button" class="btn btn-default btn-sm'+(!r&&a?" "+a:"")+(r?" dropdown-toggle":"")+'"'+(r?' data-toggle="dropdown"':"")+(o?' title="'+o+'"':"")+(n?' data-event="'+n+'"':"")+(i?" data-value='"+i+"'":"")+(s?" data-hide='"+s+"'":"")+' tabindex="-1">'+e+(r?' <span class="caret"></span>':"")+"</button>"+(r||"")+(r?"</div>":"")},y=function(e,t){return v('<i class="'+e+'"></i>',t)},b=function(e,t){var n=M('<div class="'+e+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content"></div></div>');return n.find(".popover-content").append(t),n},s=function(e,t,n,i){return'<div class="'+e+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(t?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+t+"</h4></div>":"")+'<div class="modal-body">'+n+"</div>"+(i?'<div class="modal-footer">'+i+"</div>":"")+"</div></div></div>"},l=function(e,t,n){var i="dropdown-menu"+(t?" "+t:"");return n=n||"ul",e instanceof Array&&(e=e.join("")),"<"+n+' class="'+i+'">'+e+"</"+n+">"},C={picture:function(e,t){return y(t.iconPrefix+t.icons.image.image,{event:"showImageDialog",title:e.image.image,hide:!0})},link:function(e,t){return y(t.iconPrefix+t.icons.link.link,{event:"showLinkDialog",title:e.link.link,hide:!0})},table:function(e,t){return y(t.iconPrefix+t.icons.table.table,{title:e.table.table,dropdown:l(['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'],"note-table")})},style:function(i,e){var t=e.styleTags.reduce(function(e,t){var n=i.style["p"===t?"normal":t];return e+'<li><a data-event="formatBlock" href="#" data-value="'+t+'">'+("p"===t||"pre"===t?n:"<"+t+">"+n+"</"+t+">")+"</a></li>"},"");return y(e.iconPrefix+e.icons.style.style,{title:i.style.style,dropdown:l(t)})},fontname:function(e,n){var i=[],t=n.fontNames.reduce(function(e,t){return oe.isFontInstalled(t)||re.contains(n.fontNamesIgnoreCheck,t)?(i.push(t),e+'<li><a data-event="fontName" href="#" data-value="'+t+'" style="font-family:\''+t+'\'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"):e},""),o=oe.isFontInstalled(n.defaultFontName)?n.defaultFontName:i[0];return v('<span class="note-current-fontname">'+o+"</span>",{title:e.font.name,className:"note-fontname",dropdown:l(t,"note-check")})},fontsize:function(e,n){var t=n.fontSizes.reduce(function(e,t){return e+'<li><a data-event="fontSize" href="#" data-value="'+t+'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"},"");return v('<span class="note-current-fontsize">11</span>',{title:e.font.size,className:"note-fontsize",dropdown:l(t,"note-check")})},color:function(e,t){var n='<i class="'+t.iconPrefix+t.icons.color.recent+'" style="color:black;background-color:yellow;"></i>',i=v(n,{className:"note-recent-color",title:e.color.recent,event:"color",value:'{"backColor":"yellow"}'}),o=['<li><div class="btn-group">','<div class="note-palette-title">'+e.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+e.color.transparent+'">'+e.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+e.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+e.color.reset+'">',e.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"];return i+v("",{title:e.color.more,dropdown:l(o)})},bold:function(e,t){return y(t.iconPrefix+t.icons.font.bold,{event:"bold",title:e.font.bold})},italic:function(e,t){return y(t.iconPrefix+t.icons.font.italic,{event:"italic",title:e.font.italic})},underline:function(e,t){return y(t.iconPrefix+t.icons.font.underline,{event:"underline",title:e.font.underline})},strikethrough:function(e,t){return y(t.iconPrefix+t.icons.font.strikethrough,{event:"strikethrough",title:e.font.strikethrough})},superscript:function(e,t){return y(t.iconPrefix+t.icons.font.superscript,{event:"superscript",title:e.font.superscript})},subscript:function(e,t){return y(t.iconPrefix+t.icons.font.subscript,{event:"subscript",title:e.font.subscript})},clear:function(e,t){return y(t.iconPrefix+t.icons.font.clear,{event:"removeFormat",title:e.font.clear})},ul:function(e,t){return y(t.iconPrefix+t.icons.lists.unordered,{event:"insertUnorderedList",title:e.lists.unordered})},ol:function(e,t){return y(t.iconPrefix+t.icons.lists.ordered,{event:"insertOrderedList",title:e.lists.ordered})},paragraph:function(e,t){var n=y(t.iconPrefix+t.icons.paragraph.left,{title:e.paragraph.left,event:"justifyLeft"}),i=y(t.iconPrefix+t.icons.paragraph.center,{title:e.paragraph.center,event:"justifyCenter"}),o=y(t.iconPrefix+t.icons.paragraph.right,{title:e.paragraph.right,event:"justifyRight"}),a=y(t.iconPrefix+t.icons.paragraph.justify,{title:e.paragraph.justify,event:"justifyFull"}),r=y(t.iconPrefix+t.icons.paragraph.outdent,{title:e.paragraph.outdent,event:"outdent"}),s=['<div class="note-align btn-group">',n+i+o+a,'</div><div class="note-list btn-group">',y(t.iconPrefix+t.icons.paragraph.indent,{title:e.paragraph.indent,event:"indent"})+r,"</div>"];return y(t.iconPrefix+t.icons.paragraph.paragraph,{title:e.paragraph.paragraph,dropdown:l(s,"","div")})},height:function(e,n){var t=n.lineHeights.reduce(function(e,t){return e+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(t)+'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"},"");return y(n.iconPrefix+n.icons.font.height,{title:e.font.height,dropdown:l(t,"note-check")})},help:function(e,t){return y(t.iconPrefix+t.icons.options.help,{event:"showHelpDialog",title:e.options.help,hide:!0})},fullscreen:function(e,t){return y(t.iconPrefix+t.icons.options.fullscreen,{event:"fullscreen",title:e.options.fullscreen})},codeview:function(e,t){return y(t.iconPrefix+t.icons.options.codeview,{event:"codeview",title:e.options.codeview})},undo:function(e,t){return y(t.iconPrefix+t.icons.history.undo,{event:"undo",title:e.history.undo})},redo:function(e,t){return y(t.iconPrefix+t.icons.history.redo,{event:"redo",title:e.history.redo})},hr:function(e,t){return y(t.iconPrefix+t.icons.hr.insert,{event:"insertHorizontalRule",title:e.hr.insert})}},k=function(l,d){var e,t,n,i,o,a,r,s,c,u,h,p,f,m,g=M('<div class="note-popover" />');return g.append((f=y(d.iconPrefix+d.icons.link.edit,{title:l.link.edit,event:"showLinkDialog",hide:!0}),m=y(d.iconPrefix+d.icons.link.unlink,{title:l.link.unlink,event:"unlink"}),b("note-link-popover",'<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+f+m+"</div>"))),g.append((e=v('<span class="note-fontsize-10">100%</span>',{title:l.image.resizeFull,event:"resize",value:"1"}),t=v('<span class="note-fontsize-10">50%</span>',{title:l.image.resizeHalf,event:"resize",value:"0.5"}),n=v('<span class="note-fontsize-10">25%</span>',{title:l.image.resizeQuarter,event:"resize",value:"0.25"}),i=y(d.iconPrefix+d.icons.image.floatLeft,{title:l.image.floatLeft,event:"floatMe",value:"left"}),o=y(d.iconPrefix+d.icons.image.floatRight,{title:l.image.floatRight,event:"floatMe",value:"right"}),a=y(d.iconPrefix+d.icons.image.floatNone,{title:l.image.floatNone,event:"floatMe",value:"none"}),r=y(d.iconPrefix+d.icons.image.shapeRounded,{title:l.image.shapeRounded,event:"imageShape",value:"img-rounded"}),s=y(d.iconPrefix+d.icons.image.shapeCircle,{title:l.image.shapeCircle,event:"imageShape",value:"img-circle"}),c=y(d.iconPrefix+d.icons.image.shapeThumbnail,{title:l.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),u=y(d.iconPrefix+d.icons.image.shapeNone,{title:l.image.shapeNone,event:"imageShape",value:""}),h=y(d.iconPrefix+d.icons.image.remove,{title:l.image.remove,event:"removeMedia",value:"none"}),p=(d.disableResizeImage?"":'<div class="btn-group">'+e+t+n+"</div>")+'<div class="btn-group">'+i+o+a+'</div><br><div class="btn-group">'+r+s+c+u+'</div><div class="btn-group">'+h+"</div>",b("note-image-popover",p))),d.airMode&&g.append(function(){for(var e=M("<div />"),t=0,n=d.airPopover.length;t<n;t++){for(var i=d.airPopover[t],o=M('<div class="note-'+i[0]+' btn-group">'),a=0,r=i[1].length;a<r;a++){var s=M(C[i[1][a]](l,d));s.attr("data-name",i[1][a]),o.append(s)}e.append(o)}return b("note-air-popover",e.children())}()),g},D=function(e){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="'+(e.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(e.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div></div>"},h=function(e,t){var n="note-shortcut-col col-xs-6 note-shortcut-",i=[];for(var o in t)t.hasOwnProperty(o)&&i.push('<div class="'+n+'key">'+t[o].kbd+'</div><div class="'+n+'name">'+t[o].text+"</div>");return'<div class="note-shortcut-row row"><div class="'+n+'title col-xs-offset-6">'+e+'</div></div><div class="note-shortcut-row row">'+i.join('</div><div class="note-shortcut-row row">')+"</div>"},i=function(e,t){var n,i,o,a,r,s,l,d,c='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"',u=["<div "+c+">"+(l=e,d=[{kbd:"⌘ + Z",text:l.history.undo},{kbd:"⌘ + ⇧ + Z",text:l.history.redo},{kbd:"⌘ + ]",text:l.paragraph.indent},{kbd:"⌘ + [",text:l.paragraph.outdent},{kbd:"⌘ + ENTER",text:l.hr.insert}],h(l.shortcut.action,d))+"</div><div "+c+">"+(r=e,s=[{kbd:"⌘ + B",text:r.font.bold},{kbd:"⌘ + I",text:r.font.italic},{kbd:"⌘ + U",text:r.font.underline},{kbd:"⌘ + \\",text:r.font.clear}],h(r.shortcut.textFormatting,s))+"</div>","<div "+c+">"+(o=e,a=[{kbd:"⌘ + NUM0",text:o.style.normal},{kbd:"⌘ + NUM1",text:o.style.h1},{kbd:"⌘ + NUM2",text:o.style.h2},{kbd:"⌘ + NUM3",text:o.style.h3},{kbd:"⌘ + NUM4",text:o.style.h4},{kbd:"⌘ + NUM5",text:o.style.h5},{kbd:"⌘ + NUM6",text:o.style.h6}],h(o.shortcut.documentStyle,a))+"</div><div "+c+">"+(n=e,i=[{kbd:"⌘ + ⇧ + L",text:n.paragraph.left},{kbd:"⌘ + ⇧ + E",text:n.paragraph.center},{kbd:"⌘ + ⇧ + R",text:n.paragraph.right},{kbd:"⌘ + ⇧ + J",text:n.paragraph.justify},{kbd:"⌘ + ⇧ + NUM7",text:n.lists.ordered},{kbd:"⌘ + ⇧ + NUM8",text:n.lists.unordered}],h(n.shortcut.paragraphFormatting,i))+"</div>"];return t.extraKeys&&u.push("<div "+c+">"+function(e,t){var n=t.extraKeys,i=[];for(var o in n)n.hasOwnProperty(o)&&i.push({kbd:o,text:n[o]});return h(e.shortcut.extraKeys,i)}(e,t)+"</div>"),'<div class="note-shortcut-row row">'+u.join('</div><div class="note-shortcut-row row">')+"</div>"},a={image:function(e,t){var n="";if(t.maximumImageFileSize){var i=Math.floor(Math.log(t.maximumImageFileSize)/Math.log(1024)),o=1*(t.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";n="<small>"+e.image.maximumFileSize+" : "+o+"</small>"}var a='<div class="form-group row note-group-select-from-files"><label>'+e.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group row"><label>'+e.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',r='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+e.image.insert+"</button>";return s("note-image-dialog",e.image.insert,a,r)},link:function(e,t){var n='<div class="form-group row"><label>'+e.link.textToDisplay+'</label><input class="note-link-text form-control col-md-12" type="text" /></div><div class="form-group row"><label>'+e.link.url+'</label><input class="note-link-url form-control col-md-12" type="text" value="http://" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.link.openInNewWindow+"</label></div>"),i='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+e.link.insert+"</button>";return s("note-link-dialog",e.link.insert,n,i)},help:function(e,t){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+e.shortcut.close+'</a><div class="title">'+e.shortcut.shortcuts+"</div>"+(oe.isMac?i(e,t):i(e,t).replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.16</a> · <a href="//github.com/summernote/summernote" target="_blank">Project</a> · <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return s("note-help-dialog","",n,"")}},x=function(n,i){var o="";return M.each(a,function(e,t){o+=t(n,i)}),'<div class="note-dialog">'+o+"</div>"},_=function(e,t,n){var o=ae.invertObject(t);e.find("button").each(function(e,t){var n=M(t),i=o[n.data("event")];i&&n.attr("title",function(e,t){return t+" ("+(n=i,oe.isMac&&(n=n.replace("CMD","⌘").replace("SHIFT","⇧")),n.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")";var n})}).tooltip({container:"body",trigger:"hover",placement:n||"top"}).on("click",function(){M(this).tooltip("hide")})},T=function(e,t){var c=t.colors;e.find(".note-color-palette").each(function(){for(var e=M(this),t=e.attr("data-target-event"),n=[],i=0,o=c.length;i<o;i++){for(var a=c[i],r=[],s=0,l=a.length;s<l;s++){var d=a[s];r.push(['<button type="button" class="note-color-btn" style="background-color:',d,';" data-event="',t,'" data-value="',d,'" title="',d,'" data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+r.join("")+"</div>")}e.html(n.join(""))})};this.createLayoutByAirMode=function(e,t){var n=t.langInfo,i=t.keyMap[oe.isMac?"mac":"pc"],o=ae.uniqueId();e.addClass("note-air-editor note-editable panel-body"),e.attr({id:"note-editor-"+o,contentEditable:!0});var a=document.body,r=M(k(n,t));r.addClass("note-air-layout"),r.attr("id","note-popover-"+o),r.appendTo(a),_(r,i),T(r,t);var s=M(D(t));s.addClass("note-air-layout"),s.attr("id","note-handle-"+o),s.appendTo(a);var l=M(x(n,t));l.addClass("note-air-layout"),l.attr("id","note-dialog-"+o),l.find("button.close, a.modal-close").click(function(){M(this).closest(".modal").modal("hide")}),l.appendTo(a)},this.createLayoutByFrame=function(e,t){var n=t.langInfo,i=M('<div class="note-editor panel panel-default" />');t.width&&i.width(t.width),0<t.height&&M('<div class="note-statusbar">'+(t.disableResizeEditor?"":'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>')+"</div>").prependTo(i);var o=M('<div class="note-editing-area" />'),a=!e.is(":disabled"),r=M('<div class="note-editable panel-body" contentEditable="'+a+'"></div>').prependTo(o);t.height&&r.height(t.height),t.direction&&r.attr("dir",t.direction);var s=e.attr("placeholder")||t.placeholder;s&&r.attr("data-placeholder",s),r.html(le.html(e)||le.emptyPara),M('<textarea class="note-codable"></textarea>').prependTo(o);var l=M(k(n,t)).prependTo(o);T(l,t),_(l,b),M(D(t)).prependTo(o),o.prependTo(i);for(var d=M('<div class="note-toolbar panel-heading" />'),c=0,u=t.toolbar.length;c<u;c++){for(var h=t.toolbar[c][0],p=t.toolbar[c][1],f=M('<div class="note-'+h+' btn-group" />'),m=0,g=p.length;m<g;m++){var v=C[p[m]];if(M.isFunction(v)){var y=M(v(n,t));y.attr("data-name",p[m]),f.append(y)}}d.append(f)}var b=t.keyMap[oe.isMac?"mac":"pc"];T(d,t),_(d,b,"bottom"),d.prependTo(i),M('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(i);var w=t.dialogsInBody?M(document.body):i;M(x(n,t)).prependTo(w).find("button.close, a.modal-close").click(function(){M(this).closest(".modal").modal("hide")}),i.insertAfter(e),e.hide()},this.hasNoteEditor=function(e){return 0<this.noteEditorFromHolder(e).length},this.noteEditorFromHolder=function(e){return e.hasClass("note-air-editor")?e:e.next().hasClass("note-editor")?e.next():M()},this.createLayout=function(e,t){t.airMode?this.createLayoutByAirMode(e,t):this.createLayoutByFrame(e,t)},this.layoutInfoFromHolder=function(e){var t=this.noteEditorFromHolder(e);if(t.length)return t.data("holder",e),le.buildLayoutInfo(t)},this.removeLayout=function(e,t,n){n.airMode?(e.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),t.popover().remove(),t.handle().remove(),t.dialog().remove()):(e.html(t.editable().html()),n.dialogsInBody&&t.dialog().remove(),t.editor().remove(),e.show())},this.getTemplate=function(){return{button:v,iconButton:y,dialog:s}},this.addButtonInfo=function(e,t){C[e]=t},this.addDialogInfo=function(e,t){a[e]=t}},Oe=new function(){var i=this,c=this.modules={editor:new ye(this),toolbar:new we(this),statusbar:new Ce(this),popover:new ke(this),handle:new De(this),fullscreen:new xe(this),codeview:new _e(this),dragAndDrop:new Te(this),clipboard:new Me(this),linkDialog:new Se(this),imageDialog:new Ae(this),helpDialog:new Pe(this)};this.invoke=function(){var e=re.head(re.from(arguments)),t=re.tail(re.from(arguments)),n=e.split("."),i=1<n.length,o=i&&re.head(n),a=i?re.last(n):re.head(n),r=this.getModule(o),s=r[a];return s&&s.apply(r,t)},this.getModule=function(e){return this.modules[e]||this.modules.editor};var l=this.bindCustomEvent=function(t,n,i){return function(){var e=n[ae.namespaceToCamel(i,"on")];return e&&e.apply(t[0],arguments),t.trigger("summernote."+i,arguments)}};this.insertImages=function(e,t){var n=e.editor(),i=e.editable(),o=e.holder(),a=i.data("callbacks"),r=n.data("options");a.onImageUpload?l(o,a,"image.upload")(t):M.each(t,function(e,t){var n=t.name;r.maximumImageFileSize&&r.maximumImageFileSize<t.size?l(o,a,"image.upload.error")(r.langInfo.image.maximumFileSizeError):ce.readFileAsDataURL(t).then(function(e){c.editor.insertImage(i,e,n)}).fail(function(){l(o,a,"image.upload.error")(r.langInfo.image.maximumFileSizeError)})})};var u={showLinkDialog:function(e){c.linkDialog.show(e)},showImageDialog:function(e){c.imageDialog.show(e)},showHelpDialog:function(e){c.helpDialog.show(e)},fullscreen:function(e){c.fullscreen.toggle(e)},codeview:function(e){c.codeview.toggle(e)}},o=function(e){le.isImg(e.target)&&e.preventDefault()},a=function(e){var t=le.makeLayoutInfo(e.currentTarget||e.target);c.editor.removeBogus(t.editable()),h(e)};this.updateStyleInfo=function(e,t){if(e){var n=t.editor().data("options").airMode;n||c.toolbar.update(t.toolbar(),e),c.popover.update(t.popover(),e,n),c.handle.update(t.handle(),e,n)}};var h=function(e){var n=e.target;setTimeout(function(){var e=le.makeLayoutInfo(n),t=c.editor.currentStyle(n);i.updateStyleInfo(t,e)},0)},r=function(e){var t=le.makeLayoutInfo(e.currentTarget||e.target);c.popover.hide(t.popover()),c.handle.hide(t.handle())},s=function(e){M(e.target).closest("[data-event]").length&&e.preventDefault()},d=function(e){var t=M(e.target).closest("[data-event]");if(t.length){var n,i=t.attr("data-event"),o=t.attr("data-value"),a=t.attr("data-hide"),r=le.makeLayoutInfo(e.target);if(-1!==M.inArray(i,["resize","floatMe","removeMedia","imageShape"])){var s=r.handle().find(".note-control-selection");n=M(s.data("target"))}if(a&&t.parents(".popover").hide(),M.isFunction(M.summernote.pluginEvents[i]))M.summernote.pluginEvents[i](e,c.editor,r,o);else if(c.editor[i]){var l=r.editable();l.focus(),c.editor[i](l,o,n),e.preventDefault()}else u[i]&&(u[i].call(this,r),e.preventDefault());if(-1!==M.inArray(i,["backColor","foreColor"])){var d=r.editor().data("options",d);(d.airMode?c.popover:c.toolbar).updateRecentColor(re.head(t),i,o)}h(e)}};this.bindKeyMap=function(r,s){var l=r.editor(),d=r.editable();d.on("keydown",function(e){var t=[];e.metaKey&&t.push("CMD"),e.ctrlKey&&!e.altKey&&t.push("CTRL"),e.shiftKey&&t.push("SHIFT");var n=ue.nameFromCode[e.keyCode];n&&t.push(n);var i,o=t.join("+"),a=s[o];if(a){if(i=M.summernote.pluginEvents[o],M.isFunction(i)&&i(e,c.editor,r))return!1;i=M.summernote.pluginEvents[a],M.isFunction(i)?i(e,c.editor,r):c.editor[a]?(c.editor[a](d,l.data("options")),e.preventDefault()):u[a]&&(u[a].call(this,r),e.preventDefault())}else ue.isEdit(e.keyCode)&&c.editor.afterCommand(d)})},this.attach=function(e,t){t.shortcuts&&this.bindKeyMap(e,t.keyMap[oe.isMac?"mac":"pc"]),e.editable().on("mousedown",o),e.editable().on("keyup mouseup",a),e.editable().on("scroll",r),c.clipboard.attach(e,t),c.handle.attach(e,t),e.popover().on("click",d),e.popover().on("mousedown",s),c.dragAndDrop.attach(e,t),t.airMode||(e.toolbar().on("click",d),e.toolbar().on("mousedown",s),c.statusbar.attach(e,t)),(t.airMode?e.popover():e.toolbar()).find(".note-dimension-picker-mousecatcher").css({width:t.insertTableMaxSize.col+"em",height:t.insertTableMaxSize.row+"em"}).on("mousemove",function(e){!function(e,t){var n,i=M(e.target.parentNode),o=i.next(),a=i.find(".note-dimension-picker-mousecatcher"),r=i.find(".note-dimension-picker-highlighted"),s=i.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=M(e.target).offset();n={x:e.pageX-l.left,y:e.pageY-l.top}}else n={x:e.offsetX,y:e.offsetY};var d=Math.ceil(n.x/18)||1,c=Math.ceil(n.y/18)||1;r.css({width:d+"em",height:c+"em"}),a.attr("data-value",d+"x"+c),3<d&&d<t.insertTableMaxSize.col&&s.css({width:d+1+"em"}),3<c&&c<t.insertTableMaxSize.row&&s.css({height:c+1+"em"}),o.html(d+" x "+c)}(e,t)}),e.editor().data("options",t),oe.isMSIE||setTimeout(function(){document.execCommand("styleWithCSS",0,t.styleWithSpan)},0);var n=new he(e.editable());e.editable().data("NoteHistory",n),e.editable().data("callbacks",{onInit:t.onInit,onFocus:t.onFocus,onBlur:t.onBlur,onKeydown:t.onKeydown,onKeyup:t.onKeyup,onMousedown:t.onMousedown,onEnter:t.onEnter,onPaste:t.onPaste,onBeforeCommand:t.onBeforeCommand,onChange:t.onChange,onImageUpload:t.onImageUpload,onImageUploadError:t.onImageUploadError,onMediaDelete:t.onMediaDelete,onToolbarClick:t.onToolbarClick});var i=c.editor.styleFromNode(e.editable());this.updateStyleInfo(i,e)},this.attachCustomEvent=function(t,e){var n=t.holder(),i=t.editable(),o=i.data("callbacks");i.focus(l(n,o,"focus")),i.blur(l(n,o,"blur")),i.keydown(function(e){e.keyCode===ue.code.ENTER&&l(n,o,"enter").call(this,e),l(n,o,"keydown").call(this,e)}),i.keyup(l(n,o,"keyup")),i.on("mousedown",l(n,o,"mousedown")),i.on("mouseup",l(n,o,"mouseup")),i.on("scroll",l(n,o,"scroll")),i.on("paste",l(n,o,"paste"));var a=oe.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";i.on(a,function(){l(n,o,"change")(i.html(),i)}),e.airMode||(t.toolbar().click(l(n,o,"toolbar.click")),t.popover().click(l(n,o,"popover.click"))),le.isTextarea(re.head(n))&&n.closest("form").submit(function(e){t.holder().val(t.holder().code()),l(n,o,"submit").call(this,e,n.code())}),le.isTextarea(re.head(n))&&e.textareaAutoSync&&n.on("summernote.change",function(){t.holder().val(t.holder().code())}),l(n,o,"init")(t);for(var r=0,s=M.summernote.plugins.length;r<s;r++)M.isFunction(M.summernote.plugins[r].init)&&M.summernote.plugins[r].init(t)},this.detach=function(e,t){e.holder().off(),e.editable().off(),e.popover().off(),e.handle().off(),e.dialog().off(),t.airMode||(e.dropzone().off(),e.toolbar().off(),e.statusbar().off())}};M.extend(M.summernote,{renderer:Ee,eventHandler:Oe,core:{agent:oe,list:re,dom:le,range:de},pluginEvents:{},plugins:[]}),M.summernote.addPlugin=function(e){M.summernote.plugins.push(e),e.buttons&&M.each(e.buttons,function(e,t){Ee.addButtonInfo(e,t)}),e.dialogs&&M.each(e.dialogs,function(e,t){Ee.addDialogInfo(e,t)}),e.events&&M.each(e.events,function(e,t){M.summernote.pluginEvents[e]=t}),e.langs&&M.each(e.langs,function(e,t){M.summernote.lang[e]&&M.extend(M.summernote.lang[e],t)}),e.options&&M.extend(M.summernote.options,e.options)},M.fn.extend({summernote:function(){var e=M.type(re.head(arguments)),t="string"===e,n="object"===e,o=n?re.head(arguments):{};if((o=M.extend({},M.summernote.options,o)).icons=M.extend({},M.summernote.options.icons,o.icons),o.langInfo=M.extend(!0,{},M.summernote.lang["en-US"],M.summernote.lang[o.lang]),!t&&n)for(var i=0,a=M.summernote.plugins.length;i<a;i++){var r=M.summernote.plugins[i];o.plugin[r.name]&&(M.summernote.plugins[i]=M.extend(!0,r,o.plugin[r.name]))}this.each(function(e,t){var n=M(t);if(!Ee.hasNoteEditor(n)){Ee.createLayout(n,o);var i=Ee.layoutInfoFromHolder(n);n.data("layoutInfo",i),Oe.attach(i,o),Oe.attachCustomEvent(i,o)}});var s=this.first();if(s.length){var l=Ee.layoutInfoFromHolder(s);if(t){var d=re.head(re.from(arguments)),c=re.tail(re.from(arguments)),u=[d,l.editable()].concat(c);return Oe.invoke.apply(Oe,u)}o.focus&&l.editable().focus()}return this},code:function(o){if(void 0===o){var e=this.first();if(!e.length)return;var t=Ee.layoutInfoFromHolder(e),n=t&&t.editable();if(n&&n.length){var i=Oe.invoke("codeview.isActivated",t);return Oe.invoke("codeview.sync",t),i?t.codable().val():t.editable().html()}return le.value(e)}return this.each(function(e,t){var n=Ee.layoutInfoFromHolder(M(t)),i=n&&n.editable();i&&i.html(o)}),this},destroy:function(){return this.each(function(e,t){var n=M(t);if(Ee.hasNoteEditor(n)){var i=Ee.layoutInfoFromHolder(n),o=i.editor().data("options");Oe.detach(i,o),Ee.removeLayout(n,i,o)}}),this}})});var DB_EVENT_DATE="2019-02-09 00:00:00";function multiselect_selected(e){var t=!0;return $("option",e).each(function(e){$(this).prop("selected")||(t=!1)}),t}function multiselect_selectAll(t){$("option",t).each(function(e){t.multiselect("select",$(this).val())})}function multiselect_deselectAll(t){$("option",t).each(function(e){t.multiselect("deselect",$(this).val())})}function multiselect_toggle(e,t){multiselect_selected(e)?(multiselect_deselectAll(e),t.text("All")):(multiselect_selectAll(e),t.text("None"))}function toggleCaChevron(e){$(e.target).prev(".panel-ctab").find("i.cAindicator").toggleClass("fa-chevron-down fa-chevron-up ")}jQuery.extend({highlight:function(e,t,n,i){if(3===e.nodeType){var o=e.data.match(t);if(o){var a=document.createElement(n||"span");a.className=i||"highlight";var r=e.splitText(o.index);r.splitText(o[0].length);var s=r.cloneNode(!0);return a.appendChild(s),r.parentNode.replaceChild(a,r),1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&(e.tagName!==n.toUpperCase()||e.className!==i))for(var l=0;l<e.childNodes.length;l++)l+=jQuery.highlight(e.childNodes[l],t,n,i);return 0}}),jQuery.fn.unhighlight=function(e){var t={className:"highlight",element:"span"};return jQuery.extend(t,e),this.find(t.element+"."+t.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},jQuery.fn.highlight=function(e,t){var n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(n,t),e.constructor===String&&(e=[e]),e=jQuery.grep(e,function(e,t){return""!=e}),0==(e=jQuery.map(e,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length)return this;var i=n.caseSensitive?"":"i",o="("+e.join("|")+")";n.wordsOnly&&(o="\\b"+o+"\\b");var a=new RegExp(o,i);return this.each(function(){jQuery.highlight(this,a,n.element,n.className)})},$(document).ajaxError(function(e,t,n){403==t.status?(alert("It looks like you've been logged out.  Redirecting you to the log in page.  Please log in and try again."),$("body").append('<script> window.location = "/users/login/" <\/script>')):t.status});var offset=420,duration=700;$(window).on("scroll",function(){$(this).scrollTop()>offset?$("#back-to-top").fadeIn(duration):$("#back-to-top").fadeOut(duration)}),$("body").on("click","#back-to-top",function(){return $("html, body").animate({scrollTop:0},duration),!1}),$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:t[1]||0},$("body").find(".helpTTs").popover({container:"body",trigger:"click",html:!0}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(n){var e=function(){if(n&&n.fn&&n.fn.select2&&n.fn.select2.amd)var e=n.fn.select2.amd;var t,o,d;return e&&e.requirejs||(e?o=e:e={},function(h){function p(e,t){return n.call(e,t)}function r(e,t){var n,i,o,a,r,s,l,d,c,u,h,p=t&&t.split("/"),f=C.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),r=(e=e.split("/")).length-1,C.nodeIdCompat&&D.test(e[r])&&(e[r]=e[r].replace(D,"")),e=p.concat(e),c=0;c<e.length;c+=1)if("."===(h=e[c]))e.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===e[2]||".."===e[0]))break;0<c&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||m)&&f){for(c=(n=e.split("/")).length;0<c;c-=1){if(i=n.slice(0,c).join("/"),p)for(u=p.length;0<u;u-=1)if((o=f[p.slice(0,u).join("/")])&&(o=o[i])){a=o,s=c;break}if(a)break;!l&&m&&m[i]&&(l=m[i],d=c)}!a&&l&&(a=l,s=d),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function f(e,t){return function(){return l.apply(h,i.call(arguments,0).concat([e,t]))}}function m(t){return function(e){b[t]=e}}function g(e){if(p(w,e)){var t=w[e];delete w[e],k[e]=!0,a.apply(h,t)}if(!p(b,e)&&!p(k,e))throw new Error("No "+e);return b[e]}function s(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}var a,l,v,y,b={},w={},C={},k={},n=Object.prototype.hasOwnProperty,i=[].slice,D=/\.js$/;v=function(e,t){var n,i,o=s(e),a=o[0];return e=o[1],a&&(n=g(a=r(a,t))),a?e=n&&n.normalize?n.normalize(e,(i=t,function(e){return r(e,i)})):r(e,t):(a=(o=s(e=r(e,t)))[0],e=o[1],a&&(n=g(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:n}},y={require:function(e){return f(e)},exports:function(e){var t=b[e];return void 0!==t?t:b[e]={}},module:function(e){return{id:e,uri:"",exports:b[e],config:(t=e,function(){return C&&C.config&&C.config[t]||{}})};var t}},a=function(e,t,n,i){var o,a,r,s,l,d,c=[],u=typeof n;if(i=i||e,"undefined"===u||"function"===u){for(t=!t.length&&n.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(a=(s=v(t[l],i)).f))c[l]=y.require(e);else if("exports"===a)c[l]=y.exports(e),d=!0;else if("module"===a)o=c[l]=y.module(e);else if(p(b,a)||p(w,a)||p(k,a))c[l]=g(a);else{if(!s.p)throw new Error(e+" missing "+a);s.p.load(s.n,f(i,!0),m(a),{}),c[l]=b[a]}r=n?n.apply(b[e],c):void 0,e&&(o&&o.exports!==h&&o.exports!==b[e]?b[e]=o.exports:r===h&&d||(b[e]=r))}else e&&(b[e]=n)},t=o=l=function(e,t,n,i,o){if("string"==typeof e)return y[e]?y[e](t):g(v(e,t).f);if(!e.splice){if((C=e).deps&&l(C.deps,C.callback),!t)return;t.splice?(e=t,t=n,n=null):e=h}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?a(h,e,t,n):setTimeout(function(){a(h,e,t,n)},4),l},l.config=function(e){return l(e)},t._defined=b,(d=function(e,t,n){t.splice||(n=t,t=[]),p(b,e)||p(w,e)||(w[e]=[e,t,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=o,e.define=d),e.define("almond",function(){}),e.define("jquery",[],function(){var e=n||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(a){function c(e){var t=e.prototype,n=[];for(var i in t){"function"==typeof t[i]&&"constructor"!==i&&n.push(i)}return n}var e={Extend:function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Decorate:function(i,o){function a(){var e=Array.prototype.unshift,t=o.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}var e=c(o),t=c(i);o.displayName=i.displayName,a.prototype=new function(){this.constructor=a};for(var n=0;n<t.length;n++){var r=t[n];a.prototype[r]=i.prototype[r]}for(var s=function(e){var t=function(){};e in a.prototype&&(t=a.prototype[e]);var n=o.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}},l=0;l<e.length;l++){var d=e[l];a.prototype[d]=s(d)}return a}},t=function(){this.listeners={}};return t.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},t.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},e.Observable=t,e.generateChars=function(e){for(var t="",n=0;n<e;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},e.bind=function(e,t){return function(){e.apply(t,arguments)}},e._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var o=0;o<n.length;o++){var a=n[o];(a=a.substring(0,1).toLowerCase()+a.substring(1))in i||(i[a]={}),o==n.length-1&&(i[a]=e[t]),i=i[a]}delete e[t]}}return e},e.hasScroll=function(e,t){var n=a(t),i=t.style.overflowX,o=t.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||(n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth))},e.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},e.appendMany=function(e,t){if("1.7"===a.fn.jquery.substr(0,3)){var n=a();a.map(t,function(e){n=n.add(e)}),t=n}e.append(t)},e}),e.define("select2/results",["jquery","./utils"],function(h,e){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=h('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="treeitem" class="select2-results__option"></li>'),i=this.options.get("translations").get(e.message);n.append(t(i(e.args))),this.$results.append(n)},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],o=this.option(i);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.setClasses=function(){var o=this;this.data.current(function(e){var i=h.map(e,function(e){return e.id.toString()}),t=o.$results.find(".select2-results__option[aria-selected]");t.each(function(){var e=h(this),t=h.data(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<h.inArray(n,i)?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var n=t.filter("[aria-selected=true]");0<n.length?n.first().trigger("mouseenter"):t.first().trigger("mouseenter")})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n){var o=n[i];t.setAttribute(i,o)}if(e.children){var a=h(t),r=document.createElement("strong");r.className="select2-results__group",h(r),this.template(e,r);for(var s=[],l=0;l<e.children.length;l++){var d=e.children[l],c=this.option(d);s.push(c)}var u=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});u.append(s),a.append(r),a.append(u)}else this.template(e,t);return h.data(t,"data",e),t},i.prototype.bind=function(t){var l=this,e=t.id+"-results";this.$results.attr("id",e),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.showLoading(e)}),t.on("select",function(){t.isOpen()&&l.setClasses()}),t.on("unselect",function(){t.isOpen()&&l.setClasses()}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=l.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?l.trigger("close"):l.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var i=n-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var a=l.$results.offset().top,r=o.offset().top,s=l.$results.scrollTop()+(r-a);0===i?l.$results.scrollTop(0):r-a<0&&l.$results.scrollTop(s)}}),t.on("results:next",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var o=l.$results.offset().top+l.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),r=l.$results.scrollTop()+a-o;0===n?l.$results.scrollTop(0):o<a&&l.$results.scrollTop(r)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-l.$results.scrollTop()+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,o=e.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=h(this),n=t.data("data");return"true"===t.attr("aria-selected")?void(l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:n}):l.trigger("close")):void l.trigger("select",{originalEvent:e,data:n})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=h(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:h(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-n),a=i-n;o-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(e,t){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(e);null==o?t.style.display="none":"string"==typeof o?t.innerHTML=i(o):h(t).append(o)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(n,e,i){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return e.Extend(o,e.Observable),o.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e},o.prototype.bind=function(e){var t=this,n=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){t.trigger("focus",e)}),this.$selection.on("blur",function(e){t._handleBlur(e)}),this.$selection.on("keydown",function(e){t.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){t.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){t.update(e.data)}),e.on("open",function(){t.$selection.attr("aria-expanded","true"),t.$selection.attr("aria-owns",n),t._attachCloseHandler(e)}),e.on("close",function(){t.$selection.attr("aria-expanded","false"),t.$selection.removeAttr("aria-activedescendant"),t.$selection.removeAttr("aria-owns"),t.$selection.focus(),t._detachCloseHandler(e)}),e.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)}),e.on("disable",function(){t.$selection.attr("tabindex","-1")})},o.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},o.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){var e=n(this);this!=t[0]&&e.data("element").select2("close")})})},o.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},o.prototype.position=function(e,t){t.find(".selection").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},o}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(e){var t=this;i.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&t.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),e.on("selection:update",function(e){t.update(e.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)}else this.clear()},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,e,s){function t(){t.__super__.constructor.apply(this,arguments)}return s.Extend(t,e),t.prototype.render=function(){var e=t.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},t.prototype.bind=function(){var n=this;t.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){n.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){var t=i(this).parent().data("data");n.trigger("unselect",{originalEvent:e,data:t})})},t.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},t.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},t.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},t.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=this.selectionContainer(),a=this.display(i,o);o.append(a),o.prop("title",i.title||i.text),o.data("data",i),t.push(o)}var r=this.$selection.find(".select2-selection__rendered");s.appendMany(r,t)}},t}),e.define("select2/selection/placeholder",["../utils"],function(){function e(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(i,o){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var a={data:i[o]};if(this.trigger("unselect",a),a.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||(t.which==o.DELETE||t.which==o.BACKSPACE)&&this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(".select2-selection__placeholder").length||0===t.length)){var n=i('<span class="select2-selection__clear">&times;</span>');n.data("data",t),this.$selection.find(".select2-selection__rendered").prepend(n)}},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(i,e,o){function t(e,t,n){e.call(this,t,n)}return t.prototype.render=function(e){var t=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=t,this.$search=t.find("input");var n=e.call(this);return this._transferTabIndex(),n},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(){i.$search.trigger("focus")}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===o.BACKSPACE&&""===i.$search.val()){var t=i.$searchContainer.prev(".select2-selection__choice");if(0<t.length){var n=t.data("data");i.searchRemoveChoice(n),e.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(e){var t=e.which;t!=o.SHIFT&&t!=o.CTRL&&t!=o.ALT&&t!=o.TAB&&i.handleSearch(e)})},t.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},t.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},t.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.trigger("open"),this.$search.val(t.text+" ")},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").innerWidth():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},t}),e.define("select2/selection/eventRelay",["jquery"],function(r){function e(){}return e.prototype.bind=function(e,t,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,t,n),t.on("*",function(e,t){if(-1!==r.inArray(e,o)){t=t||{};var n=r.Event("select2:"+e,{params:t});i.$element.trigger(n),-1!==r.inArray(e,a)&&(t.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var t=n(e);i._cache[e]=t}return new i(i._cache[e])},i}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(i){function e(){e.__super__.constructor.call(this)}return i.Extend(e,i.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,t){var n=e.id+"-result-";return(n+=i.generateChars(4))+(null!=t.id?"-"+t.id.toString():"-"+i.generateChars(4))},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,t,s){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var n=[],i=this;this.$element.find(":selected").each(function(){var e=s(this),t=i.item(e);n.push(t)}),e(n)},n.prototype.select=function(o){var a=this;if(o.selected=!0,s(o.element).is("option"))return o.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(e){var t=[];(o=[o]).push.apply(o,e);for(var n=0;n<o.length;n++){var i=o[n].id;-1===s.inArray(i,t)&&t.push(i)}a.$element.val(t),a.$element.trigger("change")});else{var e=o.id;this.$element.val(e),this.$element.trigger("change")}},n.prototype.unselect=function(o){var a=this;if(this.$element.prop("multiple"))return o.selected=!1,s(o.element).is("option")?(o.element.selected=!1,void this.$element.trigger("change")):void this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==o.id&&-1===s.inArray(i,t)&&t.push(i)}a.$element.val(t),a.$element.trigger("change")})},n.prototype.bind=function(e){var t=this;(this.container=e).on("select",function(e){t.select(e.data)}),e.on("unselect",function(e){t.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){s.removeData(this,"data")})},n.prototype.query=function(i,e){var o=[],a=this;this.$element.children().each(function(){var e=s(this);if(e.is("option")||e.is("optgroup")){var t=a.item(e),n=a.matches(i,t);null!==n&&o.push(n)}}),e({results:o})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=s(t),i=this._normalizeItem(e);return i.element=t,s.data(t,"data",i),n},n.prototype.item=function(e){var t={};if(null!=(t=s.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),i=[],o=0;o<n.length;o++){var a=s(n[o]),r=this.item(a);i.push(r)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],s.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){s.isPlainObject(e)||(e={id:e,text:e});return null!=(e=s.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),s.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,p,f){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return p.Extend(i,e),i.prototype.select=function(n){var e=this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){function t(e){return function(){return f(this).val()==e.id}}for(var n=this,i=this.$element.find("option"),o=i.map(function(){return n.item(f(this)).id}).get(),a=[],r=0;r<e.length;r++){var s=this._normalizeItem(e[r]);if(0<=f.inArray(s.id,o)){var l=i.filter(t(s)),d=this.item(l),c=(f.extend(!0,{},d,s),this.option(d));l.replaceWith(c)}else{var u=this.option(s);if(s.children){var h=this.convertToOptions(s.children);p.appendMany(u,h)}a.push(u)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,a){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return{q:e.term}},transport:function(e,t,n){var i=a.ajax(e);return i.then(t),i.fail(n),i}};return a.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,i){function e(){var e=t.transport(t,function(e){var t=o.processResults(e,n);o.options.get("debug")&&window.console&&console.error&&(t&&t.results&&a.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(t)},function(){});o._request=e}var o=this;null!=this._request&&(a.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=a.extend({type:"GET"},this.ajaxOptions);"function"==typeof t.url&&(t.url=t.url(n)),"function"==typeof t.data&&(t.data=t.data(n)),this.ajaxOptions.delay&&""!==n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define("select2/data/tags",["jquery"],function(d){function e(e,t,n){var i=n.get("tags"),o=n.get("createTag");if(void 0!==o&&(this.createTag=o),e.call(this,t,n),d.isArray(i))for(var a=0;a<i.length;a++){var r=i[a],s=this._normalizeItem(r),l=this.option(s);this.$element.append(l)}}return e.prototype.query=function(e,d,c){var u=this;return this._removeOldTags(),null==d.term||null!=d.page?void e.call(this,d,c):void e.call(this,d,function e(t,n){for(var i=t.results,o=0;o<i.length;o++){var a=i[o],r=null!=a.children&&!e({results:a.children},!0);if(a.text===d.term||r)return!n&&(t.data=i,void c(t))}if(n)return!0;var s=u.createTag(d);if(null!=s){var l=u.option(s);l.attr("data-select2-tag",!0),u.addOptions([l]),u.insertTag(i,s)}t.results=i,c(t)})},e.prototype.createTag=function(e,t){var n=d.trim(t.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||d(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(c){function e(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var i=this;t.term=t.term||"";var o=this.tokenizer(t,this.options,function(e){i.select(e)});o.term!==t.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),t.term=o.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var o=n.get("tokenSeparators")||[],a=t.term,r=0,s=this.createTag||function(e){return{id:e.term,text:e.term}};r<a.length;){var l=a[r];if(-1!==c.inArray(l,o)){var d=a.substr(0,r);i(s(c.extend({},t,{term:d}))),a=a.substr(r+1)||"",r=0}else r++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(n,i,o){var a=this;this.current(function(e){var t=null!=e?e.length:0;return 0<a.maximumSelectionLength&&t>=a.maximumSelectionLength?void a.trigger("results:message",{message:"maximumSelected",args:{maximum:a.maximumSelectionLength}}):void n.call(a,i,o)})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(o){function e(){}return e.prototype.render=function(e){var t=e.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),t.prepend(n),t},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(){o(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var o=t[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(o){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var e=o.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&e){var t=i.$results.offset().top+i.$results.outerHeight(!1);i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)<=t+50&&i.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=o.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=o('<li class="option load-more" role="treeitem"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(h,r){function e(e,t,n){this.$dropdownParent=n.get("dropdownParent")||document.body,e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this,o=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),o||(o=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=h("<span></span>"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},e.prototype._attachPositioningHandler=function(e){var t=this,n="scroll.select2."+e.id,i="resize.select2."+e.id,o="orientationchange.select2."+e.id,a=this.$container.parents().filter(r.hasScroll);a.each(function(){h(this).data("select2-scroll-position",{x:h(this).scrollLeft(),y:h(this).scrollTop()})}),a.on(n,function(){var e=h(this).data("select2-scroll-position");h(this).scrollTop(e.y)}),h(window).on(n+" "+i+" "+o,function(){t._positionDropdown(),t._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e){var t="scroll.select2."+e.id,n="resize.select2."+e.id,i="orientationchange.select2."+e.id;this.$container.parents().filter(r.hasScroll).off(t),h(window).off(t+" "+n+" "+i)},e.prototype._positionDropdown=function(){var e=h(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=(this.$container.position(),this.$container.offset());o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var r=this.$dropdown.outerHeight(!1),s=e.scrollTop(),l=e.scrollTop()+e.height(),d=s<o.top-r,c=l>o.bottom+r,u={left:o.left,top:a.bottom};t||n||(i="below"),c||!d||t?!d&&c&&t&&(i="below"):i="above",("above"==i||t&&"below"!==i)&&(u.top=a.top-r),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(u)},e.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var o=t[i];o.children?n+=e(o.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(){i._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();e.length<1||this.trigger("select",{data:e.data("data")})},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close")},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,m,g,v,y,b,w,C,k,D,x,t,_,T,M,S,A,P,E,O,I,N,L,$,Y,F,H,R,e){function n(){this.reset()}return n.prototype.apply=function(t){if(null==(t=f.extend({},this.defaults,t)).dataAdapter){if(t.dataAdapter=null!=t.ajax?M:null!=t.data?T:_,0<t.minimumInputLength&&(t.dataAdapter=D.Decorate(t.dataAdapter,P)),0<t.maximumInputLength&&(t.dataAdapter=D.Decorate(t.dataAdapter,E)),0<t.maximumSelectionLength&&(t.dataAdapter=D.Decorate(t.dataAdapter,O)),t.tags&&(t.dataAdapter=D.Decorate(t.dataAdapter,S)),(null!=t.tokenSeparators||null!=t.tokenizer)&&(t.dataAdapter=D.Decorate(t.dataAdapter,A)),null!=t.query){var e=m(t.amdBase+"compat/query");t.dataAdapter=D.Decorate(t.dataAdapter,e)}if(null!=t.initSelection){var n=m(t.amdBase+"compat/initSelection");t.dataAdapter=D.Decorate(t.dataAdapter,n)}}if(null==t.resultsAdapter&&(t.resultsAdapter=g,null!=t.ajax&&(t.resultsAdapter=D.Decorate(t.resultsAdapter,$)),null!=t.placeholder&&(t.resultsAdapter=D.Decorate(t.resultsAdapter,L)),t.selectOnClose&&(t.resultsAdapter=D.Decorate(t.resultsAdapter,H))),null==t.dropdownAdapter){if(t.multiple)t.dropdownAdapter=I;else{var i=D.Decorate(I,N);t.dropdownAdapter=i}if(0!==t.minimumResultsForSearch&&(t.dropdownAdapter=D.Decorate(t.dropdownAdapter,F)),t.closeOnSelect&&(t.dropdownAdapter=D.Decorate(t.dropdownAdapter,R)),null!=t.dropdownCssClass||null!=t.dropdownCss||null!=t.adaptDropdownCssClass){var o=m(t.amdBase+"compat/dropdownCss");t.dropdownAdapter=D.Decorate(t.dropdownAdapter,o)}t.dropdownAdapter=D.Decorate(t.dropdownAdapter,Y)}if(null==t.selectionAdapter){if(t.selectionAdapter=t.multiple?y:v,null!=t.placeholder&&(t.selectionAdapter=D.Decorate(t.selectionAdapter,b)),t.allowClear&&(t.selectionAdapter=D.Decorate(t.selectionAdapter,w)),t.multiple&&(t.selectionAdapter=D.Decorate(t.selectionAdapter,C)),null!=t.containerCssClass||null!=t.containerCss||null!=t.adaptContainerCssClass){var a=m(t.amdBase+"compat/containerCss");t.selectionAdapter=D.Decorate(t.selectionAdapter,a)}t.selectionAdapter=D.Decorate(t.selectionAdapter,k)}if("string"==typeof t.language)if(0<t.language.indexOf("-")){var r=t.language.split("-")[0];t.language=[t.language,r]}else t.language=[t.language];if(f.isArray(t.language)){var s=new x;t.language.push("en");for(var l=t.language,d=0;d<l.length;d++){var c=l[d],u={};try{u=x.loadPath(c)}catch(e){try{c=this.defaults.amdLanguageBase+c,u=x.loadPath(c)}catch(e){t.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+c+'" could not be automatically loaded. A fallback will be used instead.');continue}}s.extend(u)}t.translations=s}else{var h=x.loadPath(this.defaults.amdLanguageBase+"en"),p=new x(t.language);p.extend(h),t.translations=p}return t},n.prototype.reset=function(){function s(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:D.escapeMarkup,language:e,matcher:function e(t,n){if(""===f.trim(t.term))return n;if(n.children&&0<n.children.length){for(var i=f.extend(!0,{},n),o=n.children.length-1;0<=o;o--)null==e(t,n.children[o])&&i.children.splice(o,1);return 0<i.children.length?i:e(t,i)}var a=s(n.text).toUpperCase(),r=s(t.term).toUpperCase();return-1<a.indexOf(r)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.set=function(e,t){var n={};n[f.camelCase(e)]=t;var i=D._convertData(n);f.extend(this.defaults,i)},new n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(i,a,o,r){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),this.options=o.apply(this.options),t&&t.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,n)}}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=e.prop("dir")?e.prop("dir"):e.closest("[dir]").prop("dir")?e.closest("[dir]").prop("dir"):"ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var n;n=a.fn.jquery&&"1."==a.fn.jquery.substr(0,2)&&e[0].dataset?a.extend(!0,{},e[0].dataset,e.data()):e.data();var i=a.extend(!0,{},n);for(var o in i=r._convertData(i))-1<a.inArray(o,t)||(a.isPlainObject(this.options[o])?a.extend(this.options[o],i[o]):this.options[o]=i[o]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(o,d,n,i){var c=function(e,t){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new d(t,e),c.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(e,this.options);var o=this.render();this._placeContainer(o);var a=this.options.get("selectionAdapter");this.selection=new a(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var r=this.options.get("dropdownAdapter");this.dropdown=new r(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var s=this.options.get("resultsAdapter");this.results=new s(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(c,n.Observable),c.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4))},c.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},c.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==t){var a=e.attr("style");if("string"!=typeof a)return null;for(var r=a.split(";"),s=0,l=r.length;s<l;s+=1){var d=r[s].replace(/\s/g,"").match(n);if(null!==d&&1<=d.length)return d[1]}return null}return t},c.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},c.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){o.each(e,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},c.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},c.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===o.inArray(e,i)&&n.trigger(e,t)})},c.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},c.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},c.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open"),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.TAB||t===i.UP&&e.altKey?(n.close(),e.preventDefault()):t===i.ENTER?(n.trigger("results:select"),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger("results:toggle"),e.preventDefault()):t===i.UP?(n.trigger("results:previous"),e.preventDefault()):t===i.DOWN&&(n.trigger("results:next"),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},c.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},c.prototype.trigger=function(e,t){var n=c.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(e in i){var o=i[e],a={prevented:!1,name:e,args:t};if(n.call(this,o,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},c.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},c.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},c.prototype.close=function(){this.isOpen()&&this.trigger("close")},c.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},c.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},c.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus"))},c.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},c.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},c.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];o.isArray(t)&&(t=o.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("change")},c.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},c.prototype.render=function(){var e=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},c}),e.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(o,e,a,t){if(e("jquery.mousewheel"),null==o.fn.select2){var r=["open","close","destroy"];o.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=o.extend({},t,!0);new a(o(this),e)}),this;if("string"==typeof t){var e=this.data("select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");var n=Array.prototype.slice.call(arguments,1),i=e[t](n);return-1<o.inArray(t,r)?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==o.fn.select2.defaults&&(o.fn.select2.defaults=t),a}),e.define("jquery.mousewheel",["jquery"],function(e){return e}),{define:e.define,require:e.require}}(),t=e.require("jquery.select2");return n.fn.select2.amd=e,t});